(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(n,e,t){n.exports=t(430)},109:function(n,e,t){},110:function(n,e,t){},430:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(29),i=t.n(o),l=(t(109),t(110),t(3)),c=t(53),s=t(23),d=t(4),u=t(10),p=t(15);function f(n){var e;return(e=[]).concat.apply(e,n)}var m=/^xstate\.after\((.+)\)#/;function g(n){var e=n.cond?"["+n.cond.toString().replace(/\n/g,"")+"]":"";return n.source.id+":"+n.event+e+"->"+n.target.id}function h(n){if(!n)return!0;var e=n.getBoundingClientRect();return 0===e.width&&0===e.height}function v(n,e){var t=e.getBoundingClientRect();return{top:n.top-t.top,right:n.right-t.left,bottom:n.bottom-t.top,left:n.left-t.left,width:n.width,height:n.height}}function y(n){return{x:n.left+n.width/2,y:n.top+n.height/2}}function b(n){return 0===n.indexOf("xstate.")||0===n.indexOf("done.")||""===n}var w=function(){return(w=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}).apply(this,arguments)},x=new(function(){function n(){var n,e=this;(this.elements=new Map,"undefined"!==typeof window)&&window.addEventListener("resize",function(){n&&cancelAnimationFrame(n),n=requestAnimationFrame(function(){e.updateAll()})})}return n.prototype.updateAll=function(){var n=this;Array.from(this.elements.keys()).forEach(function(e){n.update(e,n.elements.get(e).element)})},n.prototype.update=function(n,e){var t=this;this.elements.get(n)||this.elements.set(n,{listeners:new Set,element:e||void 0,rect:e?e.getBoundingClientRect():void 0,hidden:h(e)});var r=w({},this.elements.get(n),{element:e||void 0,rect:e?e.getBoundingClientRect():void 0,hidden:h(e)});if(this.notify(r),e){var a=e.querySelectorAll("[data-id]");Array.from(a).forEach(function(n){var e=n.getAttribute("data-id");t.update(e,n)})}},n.prototype.listen=function(n,e){this.elements.get(n)||this.elements.set(n,{listeners:new Set,element:void 0,rect:void 0,hidden:!0});var t=this.elements.get(n);t.listeners.add(e),this.notify(t)},n.prototype.get=function(n){if(this.elements.get(n))return this.elements.get(n)},n.prototype.notify=function(n){n.listeners.forEach(function(e){e(n)})},n}()),k=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();var E,O,j,z,S,C,P,T,A,_,M,N,L,D,R,I,U,G,F,X,J=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={eventElement:null,sourceElement:null,targetElement:null,sourceData:x.get(e.props.edge.source.id),targetData:x.get(e.props.edge.target.id),eventData:x.get(g(e.props.edge))},e.ref=a.a.createRef(),e}return k(e,n),e.prototype.componentDidMount=function(){var n=this,e=this.props.edge,t=g(e);x.listen(t,function(e){n.setState({eventData:e})}),x.listen(e.source.id,function(e){n.setState({sourceData:e})}),x.listen(e.target.id,function(t){for(var r=e.target,a=t;h(a.element)&&r.parent&&(r=r.parent,a=x.get(r.id)););n.setState({targetData:a||void 0})})},e.prototype.render=function(){var n=this.props.edge,e=this.state,t=e.sourceData,r=e.eventData,o=e.targetData;if(!t||t.hidden||!r||r.hidden||!o||o.hidden)return null;var i=this.props.svg,l=v(this.state.sourceData.rect,i),c=v(this.state.eventData.rect,i),s=v(this.state.targetData.rect,i),d=y(c),u=(y(s),n.source===n.target),p=[];if(n.transition.internal)p.push(function(){return{x:c.left,y:d.y}}),p.push(function(n){return{x:l.right,y:n.y}}),u?p.push(function(n){return n.y>l.bottom?{x:s.right-10,y:l.bottom}:{x:s.right,y:n.y}}):p.push(function(){return{x:s.right+10,y:s.top-10}},function(){return{x:s.right,y:s.top-10}},function(n){return{x:n.x,y:s.top}});else if(u)p.push(function(){return{x:l.right,y:Math.min(d.y,l.bottom)}},function(n){return{x:c.left,y:d.y}},function(n){return{x:c.right,y:d.y}},function(n){return{x:c.right+10,y:c.bottom}},function(n){return{x:c.right+20,y:d.y}},function(n){return{x:c.right+10,y:c.top}},function(n){return{x:c.right,y:d.y}});else{p.push(function(){return{x:l.right,y:Math.min(d.y,l.bottom)}},function(){return{x:c.left,y:d.y}},function(){return{x:c.right,y:d.y}});var f={x:c.right+10,y:d.y},m=void 0,g=f.x<s.right&&f.x>s.left?f.x:Math.abs(c.right-s.left)<Math.abs(c.right-s.right)?s.left:s.right,h=g-f.x,b={x:g,y:h<0?s.top:f.y<s.bottom&&f.y>s.top?f.y:Math.abs(c.bottom-s.top)<Math.abs(c.bottom-s.bottom)?s.top:s.bottom},w=b.y-f.y;b.y===s.top?(b.y-=5,m="top",b.x===s.right?b.x-=10:b.x===s.left&&(b.x+=10)):b.y===s.bottom?(b.y+=5,m="bottom"):b.x===s.right?(b.y=s.top,m="top"):(b.x-=5,m="left");var x=Math.sign(h),k=Math.sign(w);p.push(function(){return f}),-1===x?-1===k?(p.push(function(n){return{x:n.x,y:Math.min(l.top-10,s.top-10)}}),p.push(function(n){return{x:b.x,y:b.y-10}})):p.push(function(n){return{x:n.x,y:f.y+10}}):f.x!==b.x&&p.push(function(n){return{x:b.x,y:n.y}}),"top"===m&&p.push(function(){return{x:b.x,y:b.y-10}}),p.push(function(){return b},function(){return b})}var E=p.reduce(function(n,e,t){return n.push(e(n[t-1]||n[0])),n},[]),O=E.slice(),j=E.reduce(function(n,e,t){if(0===t)return"M "+e.x+","+e.y;if(t===E.length-1)return n;var r=E[t-1],a=E[t+1],o=e.x-r.x,i=e.y-r.y,l=a.x-e.x,c=a.y-e.y,s={x:r.x+o/2,y:r.y+i/2},d={x:e.x+l/2,y:e.y+c/2};return O.push(s,d),n+"L "+s.x+","+s.y+" Q "+e.x+","+e.y+" "+d.x+","+d.y+" "},""),z=this.props.preview;return a.a.createElement("g",null,a.a.createElement("path",{d:j,stroke:z?"var(--color-edge-active)":"var(--color-edge)",strokeWidth:2,fill:"none",markerEnd:z?"url(#marker-preview)":"url(#marker)",ref:this.ref}))},e}(r.Component),H=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),V=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={sourceElement:void 0},e}return H(e,n),e.prototype.componentDidMount=function(){var n=this,e=this.props.source.id;x.listen(e,function(e){n.setState({sourceElement:e.element})})},e.prototype.render=function(){var n=this.props,e=n.svgRef,t=n.preview;if(!this.state.sourceElement)return null;var r=v(this.state.sourceElement.getBoundingClientRect(),e),o=r.top,i=r.left,l=t?"var(--color-edge-active)":"var(--color-edge)";return a.a.createElement("g",null,a.a.createElement("circle",{r:"4",cx:i-10,cy:o,fill:l}),a.a.createElement("path",{d:"M "+(i-10)+","+o+" Q "+(i-10)+","+(o+10)+" "+(i-1)+","+(o+10)+" L "+i+","+(o+10),stroke:l,strokeWidth:"2",fill:"none",markerEnd:t?"url(#marker-preview)":"url(#marker)"}))},e}(a.a.Component),Y=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},B=l.a.button(E||(E=Y(["\n  appearance: none;\n  background: transparent;\n  color: white;\n  height: 2rem;\n  border-radius: 0.25rem;\n  border: none;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  flex-shrink: 0;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n\n  &:hover {\n    background: white;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &[data-variant='primary'] {\n    background: white;\n    color: #111;\n    border-radius: 2px;\n    border: none;\n  }\n\n  &[data-variant='secondary'] {\n    background: #656565;\n    border-radius: 2px;\n    border: none;\n  }\n\n  &[data-variant='link'] {\n    background: transparent;\n    color: var(--color-link);\n    letter-spacing: 0;\n    height: auto;\n    padding: 0;\n    margin-left: 0.5rem;\n  }\n\n  &[data-size='full'] {\n    width: 100%;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"],["\n  appearance: none;\n  background: transparent;\n  color: white;\n  height: 2rem;\n  border-radius: 0.25rem;\n  border: none;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  flex-shrink: 0;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n\n  &:hover {\n    background: white;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &[data-variant='primary'] {\n    background: white;\n    color: #111;\n    border-radius: 2px;\n    border: none;\n  }\n\n  &[data-variant='secondary'] {\n    background: #656565;\n    border-radius: 2px;\n    border: none;\n  }\n\n  &[data-variant='link'] {\n    background: transparent;\n    color: var(--color-link);\n    letter-spacing: 0;\n    height: auto;\n    padding: 0;\n    margin-left: 0.5rem;\n  }\n\n  &[data-size='full'] {\n    width: 100%;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n"]))),W=t(9),q=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},Q=l.a.aside(O||(O=q(["\n  position: absolute;\n  bottom: 100%;\n  left: 0;\n  background: black;\n  color: white;\n  border-radius: var(--radius);\n  pointer-events: none;\n  opacity: 0;\n"],["\n  position: absolute;\n  bottom: 100%;\n  left: 0;\n  background: black;\n  color: white;\n  border-radius: var(--radius);\n  pointer-events: none;\n  opacity: 0;\n"]))),$=function(n){var e=n.children;return a.a.createElement(Q,null,e)},K=t(434),Z=t(433),nn=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},en=function(){return(en=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}).apply(this,arguments)},tn=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&(t[r[a]]=n[r[a]])}return t},rn=function(n){var e=n.children;return a.a.createElement(K.a,{language:"ts",style:Z.a,customStyle:{margin:0}},e)},an=l.a.li(j||(j=nn(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: baseline;\n  max-width: 30ch;\n  padding: 0 0.25rem;\n  line-height: 1rem;\n\n  &:hover > "," {\n    opacity: 1;\n  }\n\n  &:before {\n    font-weight: bold;\n    color: var(--color-gray);\n    margin-right: 0.25rem;\n    font-size: 75%;\n    content: attr(data-action-type) ' /';\n    white-space: nowrap;\n  }\n"],["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: baseline;\n  max-width: 30ch;\n  padding: 0 0.25rem;\n  line-height: 1rem;\n\n  &:hover > "," {\n    opacity: 1;\n  }\n\n  &:before {\n    font-weight: bold;\n    color: var(--color-gray);\n    margin-right: 0.25rem;\n    font-size: 75%;\n    content: attr(data-action-type) ' /';\n    white-space: nowrap;\n  }\n"])),Q),on=l.a.span(z||(z=nn(["\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"],["\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),ln=function(n){var e=n.action,t=tn(n,["action"]);switch(e.type){case W.actionTypes.assign:return"function"===typeof e.assignment?a.a.createElement(an,en({},t,{title:"assign"}),a.a.createElement("strong",null,"assign")):a.a.createElement(a.a.Fragment,null,Object.keys(e.assignment).map(function(n){return a.a.createElement(an,en({key:n,title:"assign "+n},t),a.a.createElement($,null,a.a.createElement(rn,null,e.assignment[n].toString())),a.a.createElement(on,null,a.a.createElement("strong",null,"assign")," ",n))}));case W.actionTypes.invoke:return a.a.createElement(an,en({},t,{title:"invoke "+e.id}),a.a.createElement(on,null,e.id));case W.actionTypes.send:var r=e;return 0===r.event.type.indexOf("xstate.after")?null:a.a.createElement(an,en({},t,{title:"send "+r.event.type+' to "'+JSON.stringify(r.to)+'"'}),a.a.createElement(on,null,a.a.createElement("em",null,"send")," ",r.event.type," ",r.to?"to "+JSON.stringify(r.to):""));case W.actionTypes.log:return a.a.createElement(an,en({},t,{title:"log"}),a.a.createElement(on,null,a.a.createElement("em",null,"log")));default:return 0===e.type.indexOf("xstate.")&&"xstate.invoke"!==e.type?null:a.a.createElement(an,en({},t,{title:e.type}),a.a.createElement(on,null,e.type))}},cn=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},sn=l.a.div(S||(S=cn(["\n  padding: 0 0.5rem;\n"],["\n  padding: 0 0.5rem;\n"]))),dn=function(n){var e=n.guard,t=n.state,r=e.predicate&&"function"===typeof e.predicate?e.predicate(t.context,t.event,{cond:e}):void 0;return a.a.createElement(sn,{style:{color:void 0===r?"var(--color-gray)":r?"var(--color-success)":"var(--color-failure)"}},"[","xstate.guard"===e.type?e.name:e.type,"]")},un=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},pn=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),fn=l.a.div(C||(C=un(["\n  padding: 1rem;\n  border-top: 1px solid var(--color-border);\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  min-height: 1rem;\n"],["\n  padding: 1rem;\n  border-top: 1px solid var(--color-border);\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  min-height: 1rem;\n"]))),mn=l.a.button(P||(P=un(["\n  appearance: none;\n  display: inline-flex;\n  height: 1rem;\n  width: 1rem;\n  justify-content: center;\n  align-items: center;\n  background: transparent;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n\n  &:not(:hover) {\n    opacity: 0.5;\n  }\n\n  &:before {\n    --dot-size: 3px;\n    content: '';\n    display: block;\n    height: var(--dot-size);\n    width: var(--dot-size);\n    border-radius: 50%;\n    background: var(--toggle-color, gray);\n    flex-shrink: 0;\n    box-shadow: calc(-1 * (var(--dot-size) + 1px)) 0 var(--toggle-color, gray),\n      calc(var(--dot-size) + 1px) 0 var(--toggle-color, gray);\n  }\n\n  &:focus {\n    outline: none;\n  }\n"],["\n  appearance: none;\n  display: inline-flex;\n  height: 1rem;\n  width: 1rem;\n  justify-content: center;\n  align-items: center;\n  background: transparent;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n\n  &:not(:hover) {\n    opacity: 0.5;\n  }\n\n  &:before {\n    --dot-size: 3px;\n    content: '';\n    display: block;\n    height: var(--dot-size);\n    width: var(--dot-size);\n    border-radius: 50%;\n    background: var(--toggle-color, gray);\n    flex-shrink: 0;\n    box-shadow: calc(-1 * (var(--dot-size) + 1px)) 0 var(--toggle-color, gray),\n      calc(var(--dot-size) + 1px) 0 var(--toggle-color, gray);\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]))),gn=l.a.div(T||(T=un(["\n  background: var(--color-border);\n  color: inherit;\n  font-weight: bold;\n"],["\n  background: var(--color-border);\n  color: inherit;\n  font-weight: bold;\n"]))),hn=l.a.header(A||(A=un(["\n  z-index: 1;\n  display: flex;\n  flex-direction: row;\n  white-space: nowrap;\n  // position: sticky;\n  // top: calc(var(--depth, 0) * 1rem);\n  // background: rgba(255, 255, 255, 0.5);\n\n  > * {\n    padding: 0.25rem;\n  }\n\n  &:before {\n    display: none;\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    background: var(--color-app-background);\n  }\n\n  &[data-type-symbol='history' i] {\n    --symbol-color: orange;\n  }\n\n  &[data-type-symbol] {\n    padding-right: 5em;\n\n    &:after {\n      content: attr(data-type-symbol);\n      position: absolute;\n      top: 0;\n      right: 0;\n      border-bottom-left-radius: 0.25rem;\n      background: var(--symbol-color, gray);\n      color: white;\n      padding: 0.25rem 0.5rem;\n      font-weight: bold;\n      font-size: 0.75em;\n    }\n  }\n"],["\n  z-index: 1;\n  display: flex;\n  flex-direction: row;\n  white-space: nowrap;\n  // position: sticky;\n  // top: calc(var(--depth, 0) * 1rem);\n  // background: rgba(255, 255, 255, 0.5);\n\n  > * {\n    padding: 0.25rem;\n  }\n\n  &:before {\n    display: none;\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    background: var(--color-app-background);\n  }\n\n  &[data-type-symbol='history' i] {\n    --symbol-color: orange;\n  }\n\n  &[data-type-symbol] {\n    padding-right: 5em;\n\n    &:after {\n      content: attr(data-type-symbol);\n      position: absolute;\n      top: 0;\n      right: 0;\n      border-bottom-left-radius: 0.25rem;\n      background: var(--symbol-color, gray);\n      color: white;\n      padding: 0.25rem 0.5rem;\n      font-weight: bold;\n      font-size: 0.75em;\n    }\n  }\n"]))),vn=l.a.div(_||(_=un(["\n  --color-shadow: rgba(0, 0, 0, 0.05);\n  --color-node-border: var(--color-border);\n  --state-event-gap: 0.5rem;\n  position: relative;\n  margin: 0.5rem;\n  flex-grow: 0;\n  flex-shrink: 1;\n  // background: rgba(255, 255, 255, 0.5);\n  color: #313131;\n  min-height: 1rem;\n  display: inline-grid;\n  grid-template-columns: min-content auto;\n  grid-column-gap: var(--state-event-gap);\n  border: none;\n\n  &[data-type~='machine'] {\n    display: grid;\n    border: none;\n    box-shadow: none;\n    width: 100%;\n    background: none;\n    margin: 2rem 0;\n    grid-template-columns: auto 1fr;\n\n    > "," {\n      left: 1rem;\n      font-size: 1rem;\n    }\n\n    > ul {\n      padding-right: 1.5rem;\n    }\n  }\n  &:not([data-type~='machine']) {\n    // opacity: 0.75;\n  }\n\n  &:not([data-open='true']) "," > * {\n    display: none;\n  }\n\n  "," {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n  }\n\n  &[data-type~='machine'] > "," {\n    display: none;\n  }\n\n  &[data-active] {\n    --color-node-border: var(--color-primary);\n    --color-shadow: var(--color-primary-shadow);\n    opacity: 1;\n\n    > "," {\n      color: var(--color-primary);\n    }\n\n    > "," {\n      --toggle-color: var(--color-primary);\n    }\n  }\n\n  &[data-preview]:not([data-active]) {\n    --color-node-border: var(--color-primary-faded);\n  }\n\n  &[data-type~='parallel'] {\n    grid-template-columns: auto 1fr;\n  }\n\n  &[data-type~='final'] {\n    > div:first-child:after {\n      content: '';\n      position: absolute;\n      top: -5px;\n      left: -5px;\n      width: calc(100% + 10px);\n      height: calc(100% + 10px);\n      border: 2px solid var(--color-node-border);\n      pointer-events: none;\n      border-radius: 6px;\n      z-index: 1;\n    }\n  }\n\n  &:before {\n    content: attr(data-key);\n    color: transparent;\n    visibility: hidden;\n    height: 1px;\n    display: block;\n  }\n\n  &:hover {\n    z-index: 2;\n  }\n"],["\n  --color-shadow: rgba(0, 0, 0, 0.05);\n  --color-node-border: var(--color-border);\n  --state-event-gap: 0.5rem;\n  position: relative;\n  margin: 0.5rem;\n  flex-grow: 0;\n  flex-shrink: 1;\n  // background: rgba(255, 255, 255, 0.5);\n  color: #313131;\n  min-height: 1rem;\n  display: inline-grid;\n  grid-template-columns: min-content auto;\n  grid-column-gap: var(--state-event-gap);\n  border: none;\n\n  &[data-type~='machine'] {\n    display: grid;\n    border: none;\n    box-shadow: none;\n    width: 100%;\n    background: none;\n    margin: 2rem 0;\n    grid-template-columns: auto 1fr;\n\n    > "," {\n      left: 1rem;\n      font-size: 1rem;\n    }\n\n    > ul {\n      padding-right: 1.5rem;\n    }\n  }\n  &:not([data-type~='machine']) {\n    // opacity: 0.75;\n  }\n\n  &:not([data-open='true']) "," > * {\n    display: none;\n  }\n\n  "," {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n  }\n\n  &[data-type~='machine'] > "," {\n    display: none;\n  }\n\n  &[data-active] {\n    --color-node-border: var(--color-primary);\n    --color-shadow: var(--color-primary-shadow);\n    opacity: 1;\n\n    > "," {\n      color: var(--color-primary);\n    }\n\n    > "," {\n      --toggle-color: var(--color-primary);\n    }\n  }\n\n  &[data-preview]:not([data-active]) {\n    --color-node-border: var(--color-primary-faded);\n  }\n\n  &[data-type~='parallel'] {\n    grid-template-columns: auto 1fr;\n  }\n\n  &[data-type~='final'] {\n    > div:first-child:after {\n      content: '';\n      position: absolute;\n      top: -5px;\n      left: -5px;\n      width: calc(100% + 10px);\n      height: calc(100% + 10px);\n      border: 2px solid var(--color-node-border);\n      pointer-events: none;\n      border-radius: 6px;\n      z-index: 1;\n    }\n  }\n\n  &:before {\n    content: attr(data-key);\n    color: transparent;\n    visibility: hidden;\n    height: 1px;\n    display: block;\n  }\n\n  &:hover {\n    z-index: 2;\n  }\n"])),hn,fn,mn,mn,hn,mn),yn=l.a.div(M||(M=un(["\n  grid-column: 1 / 2;\n  align-self: self-start;\n  border-radius: 0.25rem;\n  border: 2px solid var(--color-node-border);\n  text-align: left;\n  box-shadow: 0 0.5rem 1rem var(--color-shadow);\n  color: #313131;\n  min-height: 1rem;\n  z-index: 1;\n  transition: border-color var(--duration) var(--easing);\n\n  &[data-type='parallel'] > "," > "," > & {\n    border-style: dashed;\n  }\n"],["\n  grid-column: 1 / 2;\n  align-self: self-start;\n  border-radius: 0.25rem;\n  border: 2px solid var(--color-node-border);\n  text-align: left;\n  box-shadow: 0 0.5rem 1rem var(--color-shadow);\n  color: #313131;\n  min-height: 1rem;\n  z-index: 1;\n  transition: border-color var(--duration) var(--easing);\n\n  &[data-type='parallel'] > "," > "," > & {\n    border-style: dashed;\n  }\n"])),fn,vn),bn=l.a.div(N||(N=un(["\n  grid-column: 2 / 3;\n  padding: 0;\n  margin-right: 1rem;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  &:empty {\n    display: none;\n  }\n"],["\n  grid-column: 2 / 3;\n  padding: 0;\n  margin-right: 1rem;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  &:empty {\n    display: none;\n  }\n"]))),wn=l.a.ul(L||(L=un(["\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  margin-bottom: 0.5rem;\n  z-index: 1;\n\n  &:empty {\n    display: none;\n  }\n"],["\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  margin-bottom: 0.5rem;\n  z-index: 1;\n\n  &:empty {\n    display: none;\n  }\n"]))),xn=l.a.div(D||(D=un(["\n  --size: 0.5rem;\n  position: relative;\n  display: inline-block;\n  height: var(--size);\n  width: var(--size);\n  border-radius: 50%;\n  background-color: white;\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: -0.25rem;\n    right: 0;\n    width: calc(100% + 0.5rem);\n    height: calc(100% + 0.5rem);\n    border-radius: inherit;\n    background-color: var(--color-event);\n  }\n\n  &:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    right: 0.25rem;\n    width: 100%;\n    height: 100%;\n    border-radius: inherit;\n    background-color: white;\n  }\n"],["\n  --size: 0.5rem;\n  position: relative;\n  display: inline-block;\n  height: var(--size);\n  width: var(--size);\n  border-radius: 50%;\n  background-color: white;\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: -0.25rem;\n    right: 0;\n    width: calc(100% + 0.5rem);\n    height: calc(100% + 0.5rem);\n    border-radius: inherit;\n    background-color: var(--color-event);\n  }\n\n  &:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    right: 0.25rem;\n    width: 100%;\n    height: 100%;\n    border-radius: inherit;\n    background-color: white;\n  }\n"]))),kn=l.a.button(R||(R=un(["\n  --color-event: var(--color-primary);\n  padding: 0;\n  position: relative;\n  appearance: none;\n  border: 2px solid var(--color-event);\n  background: white;\n  color: white;\n  font-size: 0.75em;\n  font-weight: bold;\n  cursor: pointer;\n  border-radius: 2rem;\n  line-height: 1;\n  display: inline-flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  overflow: hidden;\n\n  > * {\n    padding: 0.15rem 0.35rem;\n  }\n\n  > label {\n    background-color: var(--color-event);\n    cursor: inherit;\n    text-align: left;\n    transition: background var(--duration) var(--easing);\n\n    &:empty {\n      display: none;\n    }\n\n    &:first-child:last-child {\n      width: 100%;\n    }\n  }\n\n  &:not(:disabled):not([data-builtin]):hover {\n    --color-event: var(--color-primary);\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    --color-event: var(--color-disabled);\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  // duration\n  &[data-delay] {\n    > * {\n      background: none;\n    }\n\n    &:not([disabled]):before {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: var(--color-event);\n      animation: move-left calc(var(--delay) * 1ms) linear;\n      z-index: 0;\n      opacity: 0.5;\n    }\n  }\n\n  @keyframes move-left {\n    from {\n      transform: translateX(-100%);\n    }\n    to {\n      transform: none;\n    }\n  }\n\n  &[data-builtin] {\n    color: black;\n    font-style: italic;\n  }\n\n  &[data-transient] {\n    > "," {\n      order: -1;\n    }\n  }\n"],["\n  --color-event: var(--color-primary);\n  padding: 0;\n  position: relative;\n  appearance: none;\n  border: 2px solid var(--color-event);\n  background: white;\n  color: white;\n  font-size: 0.75em;\n  font-weight: bold;\n  cursor: pointer;\n  border-radius: 2rem;\n  line-height: 1;\n  display: inline-flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  overflow: hidden;\n\n  > * {\n    padding: 0.15rem 0.35rem;\n  }\n\n  > label {\n    background-color: var(--color-event);\n    cursor: inherit;\n    text-align: left;\n    transition: background var(--duration) var(--easing);\n\n    &:empty {\n      display: none;\n    }\n\n    &:first-child:last-child {\n      width: 100%;\n    }\n  }\n\n  &:not(:disabled):not([data-builtin]):hover {\n    --color-event: var(--color-primary);\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    --color-event: var(--color-disabled);\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  // duration\n  &[data-delay] {\n    > * {\n      background: none;\n    }\n\n    &:not([disabled]):before {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: var(--color-event);\n      animation: move-left calc(var(--delay) * 1ms) linear;\n      z-index: 0;\n      opacity: 0.5;\n    }\n  }\n\n  @keyframes move-left {\n    from {\n      transform: translateX(-100%);\n    }\n    to {\n      transform: none;\n    }\n  }\n\n  &[data-builtin] {\n    color: black;\n    font-style: italic;\n  }\n\n  &[data-transient] {\n    > "," {\n      order: -1;\n    }\n  }\n"])),xn),En=l.a.div(I||(I=un(["\n  list-style: none;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n\n  &:not(:last-child) {\n    margin-bottom: 0.25rem;\n  }\n\n  &[data-disabled] > "," {\n    opacity: 0.7;\n  }\n\n  &[data-internal] {\n  }\n"],["\n  list-style: none;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n\n  &:not(:last-child) {\n    margin-bottom: 0.25rem;\n  }\n\n  &[data-disabled] > "," {\n    opacity: 0.7;\n  }\n\n  &[data-internal] {\n  }\n"])),wn),On=(l.a.div(U||(U=un(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n\n  &:before {\n    content: '\u2192';\n    margin-right: 0.5ch;\n  }\n"],["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n\n  &:before {\n    content: '\u2192';\n    margin-right: 0.5ch;\n  }\n"]))),l.a.div(G||(G=un(["\n  position: absolute;\n  z-index: 0;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  animation: bg 1s both;\n  background: var(--color-primary);\n  will-change: opacity;\n\n  @keyframes bg {\n    from {\n      opacity: 0.5;\n    }\n    to {\n      opacity: 0;\n    }\n  }\n"],["\n  position: absolute;\n  z-index: 0;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  animation: bg 1s both;\n  background: var(--color-primary);\n  will-change: opacity;\n\n  @keyframes bg {\n    from {\n      opacity: 0.5;\n    }\n    to {\n      opacity: 0;\n    }\n  }\n"])))),jn=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={toggled:!0},e.stateRef=a.a.createRef(),e}return pn(e,n),e.prototype.componentDidUpdate=function(){x.update(this.props.stateNode.id,this.stateRef.current)},e.prototype.render=function(){var n=this,t=this.props,r=t.stateNode,o=t.current,i=t.preview,l=t.onEvent,c=t.onPreEvent,s=t.onExitPreEvent,d=t.onReset,u=!r.parent||o.matches(r.path.join("."))||void 0,f=i&&i.matches(r.path.join("."))||void 0,h=r.parent?r.type:"machine "+r.type;return a.a.createElement(vn,{key:r.id,"data-key":r.key,"data-type":h,"data-active":u&&r.parent,"data-preview":f&&r.parent,"data-open":this.state.toggled||void 0,ref:this.stateRef},a.a.createElement(yn,{"data-id":r.id,"data-type":h},u&&("atomic"===h||"final"===h)&&a.a.createElement(On,{key:this.props.transitionCount,style:{"--level":this.props.level}}),a.a.createElement(hn,{style:{"--depth":r.path.length}},"history"===h&&a.a.createElement(gn,null,"H"),a.a.createElement("strong",{title:"#"+r.id},r.key),0===r.path.length?a.a.createElement(B,{"data-variant":"link",onClick:d?function(){return d()}:void 0,title:"Reset machine to its initial state"},"Reset"):null),!!function(n){return n.onEntry.concat(n.onExit)}(r).length&&a.a.createElement(a.a.Fragment,null,a.a.createElement(wn,null,r.definition.onEntry.map(function(n){var e=n.type;return a.a.createElement(ln,{key:e,"data-action-type":"entry",action:n})})),a.a.createElement(wn,null,r.definition.onExit.map(function(n){var e=n.type;return a.a.createElement(ln,{key:e,"data-action-type":"exit",action:n})}))),a.a.createElement(wn,{"data-title":"invoke"},r.invoke.map(function(n){return a.a.createElement(ln,{key:n.id,"data-action-type":"invoke",action:n},n.id)})),Object.keys(r.states).length?a.a.createElement(fn,null,Object.keys(r.states||[]).map(function(t){var d=r.states[t];return a.a.createElement(e,{stateNode:d,level:n.props.level+1,current:o,preview:i,key:d.id,onEvent:l,onPreEvent:c,onExitPreEvent:s,toggledStates:n.props.toggledStates,onSelectServiceId:n.props.onSelectServiceId,transitionCount:n.props.transitionCount})})):null,Object.keys(r.states).length>0?a.a.createElement(mn,{title:this.state.toggled?"Hide children":"Show children",onClick:function(e){e.stopPropagation(),n.setState({toggled:!n.state.toggled},function(){x.updateAll()})}}):null),a.a.createElement(bn,null,Object(p.getEdges)(r,{depth:0}).map(function(n){var e=n.event,t=0===e.indexOf("xstate.")||0===e.indexOf("done."),i=n.transition.cond,d=!(!i||!i.predicate||i.predicate(o.context,o.event,{cond:i}))||!u||-1===o.nextEvents.indexOf(e),p=!!t&&function(n){var e=n.match(m);return!!e&&(Number.isFinite(+e[1])?+e[1]:e[1])}(e);if("string"===typeof p){var f=r.machine.options.delays[p];p="number"===typeof f?f:f(o.context,o.event)}var h=""===e;return a.a.createElement(En,{style:{"--delay":p||0},"data-disabled":d||void 0,key:g(n),"data-internal":n.transition.internal||void 0},a.a.createElement(kn,{onClick:function(){return t?void 0:l(e)},onMouseOver:function(){return c(e)},onMouseOut:function(){return s()},disabled:d,"data-delay":n.transition.delay,"data-builtin":t||void 0,"data-transient":h||void 0,"data-id":g(n),title:e},a.a.createElement("label",null,function(n){var e=n.match(m);if(e){var t=Number.isFinite(+e[1]);return"after "+e[1]+(t?"ms":"")}return(e=n.match(/^done\.state/))?"done":n}(e)),n.transition.cond&&a.a.createElement(dn,{guard:n.transition.cond,state:o})),!(!n.transition.actions.length&&!n.transition.cond)&&a.a.createElement(wn,null,n.transition.actions.map(function(n,e){return a.a.createElement(ln,{key:e,action:n,"data-action-type":"do"})})))})))},e}(a.a.Component),zn=t(16),Sn=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},Cn=function(){return(Cn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}).apply(this,arguments)},Pn=l.a.div(F||(F=Sn(["\n  position: relative;\n  max-height: inherit;\n  overflow-y: auto;\n"],["\n  position: relative;\n  max-height: inherit;\n  overflow-y: auto;\n"]))),Tn=function(n){var e,t=n.service,o=n.visible,i=n.onSelectService,l=n.onReset,c=Object(r.useState)(0),s=c[0],d=c[1],u=Object(zn.useService)(t),m=u[0],h=u[1],v=a.a.useState({toggledStates:{},previewEvent:void 0,preview:void 0}),y=v[0],b=v[1],w=a.a.useRef(null);try{e=Object(p.getEdges)(t.machine)}catch(x){e=null,console.error(x)}return Object(r.useEffect)(function(){d(s+1)},[m]),o&&e?a.a.createElement(Pn,null,a.a.createElement("svg",{width:"100%",height:"100%",style:{position:"absolute",top:0,left:0,"--color":"gray",overflow:"visible",pointerEvents:"none"},ref:w,key:JSON.stringify(y.toggledStates)},a.a.createElement("defs",null,a.a.createElement("marker",{id:"marker",markerWidth:"4",markerHeight:"4",refX:"2",refY:"2",markerUnits:"strokeWidth",orient:"auto"},a.a.createElement("path",{d:"M0,0 L0,4 L4,2 z",fill:"var(--color-edge)"})),a.a.createElement("marker",{id:"marker-preview",markerWidth:"4",markerHeight:"4",refX:"2",refY:"2",markerUnits:"strokeWidth",orient:"auto"},a.a.createElement("path",{d:"M0,0 L0,4 L4,2 z",fill:"var(--color-edge-active)"}))),e.map(function(n){if(w.current)return a.a.createElement(J,{key:g(n),svg:w.current,edge:n,preview:n.event===y.previewEvent&&m.matches(n.source.path.join("."))&&!!y.preview&&y.preview.matches(n.target.path.join("."))})}),function n(e){var t=Object.keys(e.states);return e.initialStateNodes.concat(f(t.map(function(t){var r=e.states[t];return"compound"===r.type||"parallel"===r.type?n(e.states[t]):[]})))}(t.machine).map(function(n,e){if(w.current)return a.a.createElement(V,{key:n.id+"_"+e,source:n,svgRef:w.current,preview:m.matches(n.path.join("."))||!!y.preview&&y.preview.matches(n.path.join("."))})})),a.a.createElement(jn,{stateNode:t.machine,current:t.state,transitionCount:s,level:0,preview:y.preview,onReset:l,onEvent:function(n){h(n)},onPreEvent:function(n){y.preview||b(Cn({},y,{preview:t.nextState(n),previewEvent:n}))},onExitPreEvent:function(){b(Cn({},y,{preview:void 0,previewEvent:void 0}))},onSelectServiceId:function(n){var e=t.children.get(n);e&&i(e)},toggledStates:y.toggledStates})):null},An=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},_n=l.a.section(X||(X=An(["\n  display: grid;\n  grid-column-gap: 1rem;\n  grid-row-gap: 1rem;\n  padding-left: 1rem;\n\n  &[data-child] {\n    grid-template-columns: 1fr 1fr;\n  }\n"],["\n  display: grid;\n  grid-column-gap: 1rem;\n  grid-row-gap: 1rem;\n  padding-left: 1rem;\n\n  &[data-child] {\n    grid-template-columns: 1fr 1fr;\n  }\n"]))),Mn=function(n){var e=n.service,t=n.onReset;return a.a.createElement(_n,null,a.a.createElement(Tn,{service:e,visible:!0,onSelectService:function(){},onReset:t}))},Nn=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},Ln=function(){return(Ln=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}).apply(this,arguments)},Dn=l.a.div(In||(In=Nn(["\n  &:not(:last-child) {\n    margin-bottom: 1rem;\n  }\n\n  margin-top: 0.5rem;\n  width: 100%;\n  overflow: hidden;\n\n  > label {\n    text-transform: uppercase;\n    display: block;\n    margin-bottom: 0.5em;\n    font-weight: bold;\n    opacity: 0.5;\n  }\n\n  &[data-empty] {\n    opacity: 0.5;\n    > label {\n      margin-bottom: 0;\n    }\n  }\n"],["\n  &:not(:last-child) {\n    margin-bottom: 1rem;\n  }\n\n  margin-top: 0.5rem;\n  width: 100%;\n  overflow: hidden;\n\n  > label {\n    text-transform: uppercase;\n    display: block;\n    margin-bottom: 0.5em;\n    font-weight: bold;\n    opacity: 0.5;\n  }\n\n  &[data-empty] {\n    opacity: 0.5;\n    > label {\n      margin-bottom: 0;\n    }\n  }\n"])));function Rn(n){var e=n.label,t=n.children,r=n.disabled,o=n.style;return a.a.createElement(Dn,{style:Ln({},o,r?{opacity:.5}:void 0),"data-empty":!t||void 0},a.a.createElement("label",null,e),t)}var In,Un,Gn,Fn,Xn,Jn,Hn,Vn,Yn,Bn,Wn,qn,Qn,$n=l.a.details(Un||(Un=Nn(["\n  margin: 0;\n  padding: 0 1rem;\n\n  & & {\n    border-left: 2px solid #737373;\n  }\n\n  > summary {\n    font-weight: bold;\n    font-size: 1rem;\n  }\n"],["\n  margin: 0;\n  padding: 0 1rem;\n\n  & & {\n    border-left: 2px solid #737373;\n  }\n\n  > summary {\n    font-weight: bold;\n    font-size: 1rem;\n  }\n"]))),Kn=l.a.div(Gn||(Gn=Nn(["\n  display: grid;\n  grid-template-columns: auto 1fr;\n  grid-column-gap: 1ch;\n\n  & + & {\n    margin-top: 0.5rem;\n  }\n\n  pre {\n    margin: 0;\n  }\n"],["\n  display: grid;\n  grid-template-columns: auto 1fr;\n  grid-column-gap: 1ch;\n\n  & + & {\n    margin-top: 0.5rem;\n  }\n\n  pre {\n    margin: 0;\n  }\n"]))),Zn=function n(e){var t=e.state,r=e.service,o={value:t.value,context:t.context};return a.a.createElement($n,{key:r.id,open:!0},a.a.createElement("summary",null,r.id),a.a.createElement(Rn,{label:"state"},a.a.createElement("pre",null,JSON.stringify(o,null,2))),a.a.createElement(Rn,{label:"actions"},t.actions.map(function(n,e){return a.a.createElement(Kn,{key:e},Object.keys(n).map(function(e){return void 0===n[e]?null:a.a.createElement(a.a.Fragment,{key:e},a.a.createElement("strong",null,e,":"),a.a.createElement("pre",null,JSON.stringify(n[e],null,2)))}))})),a.a.createElement(Rn,{label:"Children"},Array.from(r.children.values()).map(function(e,t){return e.state?a.a.createElement(n,{state:e.state,service:e,key:t}):null})))},ne=t(30),ee=t.n(ne),te=t(101),re=t(49),ae=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},oe=Object(c.a)({id:"notifications",context:{notifications:[]},initial:"inactive",states:{inactive:{},active:{entry:Object(W.log)(),on:{"NOTIFICATION.DISMISS":{actions:Object(d.b)({notifications:function(n,e){return Object(re.a)(n.notifications,function(n){n.splice(e.index,1)})}})}}}},on:{"NOTIFICATIONS.QUEUE":{target:".active",actions:Object(d.b)({notifications:function(n,e){return Object(re.a)(n.notifications,function(n){n.unshift(e.data)})}})}}}),ie=l.a.button(Fn||(Fn=ae(["\n  appearance: none;\n  background: transparent;\n  color: white;\n"],["\n  appearance: none;\n  background: transparent;\n  color: white;\n"]))),le=l.a.div(Xn||(Xn=ae(["\n  padding: 1rem;\n  margin: 1rem;\n  border-radius: var(--radius);\n  border-top: 2px solid currentColor;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  background: white;\n  box-shadow: var(--shadow);\n  animation: notification-slideDown calc(var(--timeout, 4000) * 1ms) ease both;\n  will-change: transform;\n  transition: transform var(--duration);\n  cursor: default;\n\n  &[data-severity='success'] {\n    color: #40d38d;\n  }\n\n  &[data-severity='info'] {\n    color: #2f86eb;\n  }\n\n  &[data-severity='error'] {\n    color: #f16462;\n  }\n\n  > "," {\n    position: absolute;\n    right: 0;\n  }\n\n  @keyframes notification-slideDown {\n    from {\n      transform: translateY(-100%);\n    }\n    from,\n    50% {\n      pointer-events: auto;\n      opacity: 1;\n    }\n    20%,\n    to {\n      transform: translateY(calc(var(--index) * 100% + 0.5rem));\n    }\n    to {\n      opacity: 0;\n      pointer-events: none;\n    }\n  }\n"],["\n  padding: 1rem;\n  margin: 1rem;\n  border-radius: var(--radius);\n  border-top: 2px solid currentColor;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  background: white;\n  box-shadow: var(--shadow);\n  animation: notification-slideDown calc(var(--timeout, 4000) * 1ms) ease both;\n  will-change: transform;\n  transition: transform var(--duration);\n  cursor: default;\n\n  &[data-severity='success'] {\n    color: #40d38d;\n  }\n\n  &[data-severity='info'] {\n    color: #2f86eb;\n  }\n\n  &[data-severity='error'] {\n    color: #f16462;\n  }\n\n  > "," {\n    position: absolute;\n    right: 0;\n  }\n\n  @keyframes notification-slideDown {\n    from {\n      transform: translateY(-100%);\n    }\n    from,\n    50% {\n      pointer-events: auto;\n      opacity: 1;\n    }\n    20%,\n    to {\n      transform: translateY(calc(var(--index) * 100% + 0.5rem));\n    }\n    to {\n      opacity: 0;\n      pointer-events: none;\n    }\n  }\n"])),ie),ce=l.a.div(Jn||(Jn=ae(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  z-index: 10;\n\n  > "," {\n    position: absolute;\n    pointer-events: auto;\n  }\n"],["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  z-index: 10;\n\n  > "," {\n    position: absolute;\n    pointer-events: auto;\n  }\n"])),le),se=l.a.div(Hn||(Hn=ae(["\n  color: #111;\n"],["\n  color: #111;\n"]))),de=function(n){var e=n.notifier,t=Object(r.useState)(),o=t[0],i=t[1];if(Object(r.useEffect)(function(){e.subscribe(function(n){i(n)})},[]),!o)return null;var l=o.context.notifications;return a.a.createElement(ce,null,l.map(function(n,e){return a.a.createElement(le,{key:l.length-e,"data-severity":n.severity,style:{"--timeout":5e3,"--index":e},onClick:function(){return Be.send({type:"NOTIFICATION.DISMISS",index:e})}},a.a.createElement("strong",null,n.message),n.description&&a.a.createElement(se,null,a.a.createElement("small",null,n.description," ","error"===n.severity?"(See console for more details)":"")))}))},ue=t(32),pe=t.n(ue),fe=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},me=l.a.div(Vn||(Vn=fe(["\n  font-weight: bold;\n  font-size: 0.8rem;\n"],["\n  font-weight: bold;\n  font-size: 0.8rem;\n"]))),ge=l.a.div(Yn||(Yn=fe(["\n  text-align: right;\n  animation: fade-in-left 0.6s var(--easing);\n\n  @keyframes fade-in-left {\n    from {\n      transform: translateX(50%);\n      opacity: 0;\n    }\n    to: {\n      transform: none;\n      opacity: 1;\n    }\n  }\n"],["\n  text-align: right;\n  animation: fade-in-left 0.6s var(--easing);\n\n  @keyframes fade-in-left {\n    from {\n      transform: translateX(50%);\n      opacity: 0;\n    }\n    to: {\n      transform: none;\n      opacity: 1;\n    }\n  }\n"]))),he=l.a.div(Bn||(Bn=fe(["\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr 3rem;\n  grid-column-gap: 1rem;\n  grid-template-rows: 50% 50%;\n  grid-template-areas:\n    'details avatar'\n    'details avatar';\n  padding: 0.5rem;\n\n  &:not([data-state~='auth.authorized']) {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n  }\n\n  > "," {\n    grid-area: details;\n    justify-self: end;\n  }\n\n  > figure {\n    margin: 0;\n    grid-area: avatar;\n  }\n"],["\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr 3rem;\n  grid-column-gap: 1rem;\n  grid-template-rows: 50% 50%;\n  grid-template-areas:\n    'details avatar'\n    'details avatar';\n  padding: 0.5rem;\n\n  &:not([data-state~='auth.authorized']) {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n  }\n\n  > "," {\n    grid-area: details;\n    justify-self: end;\n  }\n\n  > figure {\n    margin: 0;\n    grid-area: avatar;\n  }\n"])),ge),ve=l.a.img(Wn||(Wn=fe(["\n  height: 100%;\n  border-radius: 0.5rem;\n  background: gray;\n"],["\n  height: 100%;\n  border-radius: 0.5rem;\n  background: gray;\n"]))),ye=function(){var n=Object(r.useContext)(He),e=n.state,t=n.send,o=e.context.user;return a.a.createElement("div",null,a.a.createElement(he,{"data-state":e.toStrings().join(" ")},e.matches({auth:"unauthorized"})?a.a.createElement(B,{"data-variant":"link",onClick:function(){return t("LOGIN")}},"Login"):e.matches({auth:"authorized"})?a.a.createElement(a.a.Fragment,null,a.a.createElement(ge,null,a.a.createElement(me,null,o?o.login:a.a.createElement("em",null,"Anonymous")),a.a.createElement(B,{"data-variant":"link",onClick:function(){return t("LOGOUT")}},"Log out")),a.a.createElement("figure",null,o?a.a.createElement(ve,{src:o.avatar_url}):a.a.createElement(ve,{as:"div"}))):a.a.createElement("div",null,"Authorizing..."," ",a.a.createElement(B,{"data-variant":"link",onClick:function(){return t("AUTH.CANCEL")}},"Cancel"))))},be="\n  // Available variables:\n  // - Machine\n  // - interpret\n  // - assign\n  // - send\n  // - sendParent\n  // - spawn\n  // - raise\n  // - actions\n  // - XState (all XState exports)\n  \n  const fetchMachine = Machine({\n    id: 'fetch',\n    initial: 'idle',\n    context: {\n      retries: 0\n    },\n    states: {\n      idle: {\n        on: {\n          FETCH: 'loading'\n        }\n      },\n      loading: {\n        on: {\n          RESOLVE: 'success',\n          REJECT: 'failure'\n        }\n      },\n      success: {\n        type: 'final'\n      },\n      failure: {\n        on: {\n          RETRY: {\n            target: 'loading',\n            actions: assign({\n              retries: (context, event) => context.retries + 1\n            })\n          }\n        }\n      }\n    }\n  });\n  ",we=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},xe=l.a.div(qn||(qn=we(["\n  padding: 1rem;\n  padding-top: 1.5rem;\n  margin: auto auto;\n  transform-style: preserve-3d;\n  perspective: 100px;\n  text-align: center;\n  font-size: 80%;\n  font-weight: bold;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n\n  &:before,\n  &:after {\n    content: '';\n    width: 1rem;\n    height: 1rem;\n    top: 0;\n    left: calc(50% - 0.5rem);\n    position: absolute;\n    border: 2px solid rgba(87, 176, 234, 1);\n    border-radius: 0.2rem;\n    animation: loader-box 1s infinite both;\n  }\n\n  &:after {\n    animation-delay: 0.5s;\n  }\n\n  @keyframes loader-box {\n    from {\n      transform: rotateY(40deg) translateX(150%);\n      opacity: 0;\n    }\n    50% {\n      transform: none;\n      opacity: 1;\n    }\n    to {\n      transform: rotateY(-40deg) translateX(-150%);\n      opacity: 0;\n    }\n  }\n"],["\n  padding: 1rem;\n  padding-top: 1.5rem;\n  margin: auto auto;\n  transform-style: preserve-3d;\n  perspective: 100px;\n  text-align: center;\n  font-size: 80%;\n  font-weight: bold;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n\n  &:before,\n  &:after {\n    content: '';\n    width: 1rem;\n    height: 1rem;\n    top: 0;\n    left: calc(50% - 0.5rem);\n    position: absolute;\n    border: 2px solid rgba(87, 176, 234, 1);\n    border-radius: 0.2rem;\n    animation: loader-box 1s infinite both;\n  }\n\n  &:after {\n    animation-delay: 0.5s;\n  }\n\n  @keyframes loader-box {\n    from {\n      transform: rotateY(40deg) translateX(150%);\n      opacity: 0;\n    }\n    50% {\n      transform: none;\n      opacity: 1;\n    }\n    to {\n      transform: rotateY(-40deg) translateX(-150%);\n      opacity: 0;\n    }\n  }\n"]))),ke=function(n){var e=n.children,t=void 0===e?"Loading...":e;return a.a.createElement(xe,null,t)},Ee=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},Oe=l.a.button(Qn||(Qn=Ee(["\n  appearance: none;\n  background: white;\n  box-shadow: var(--shadow);\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 0.5rem 1rem;\n  border-top-left-radius: 1rem;\n  border-bottom-left-radius: 1rem;\n  color: black;\n  border: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n  z-index: 2;\n  margin-top: 1rem;\n  opacity: 0.7;\n  transition: all var(--duration) var(--easing);\n  transform: translateX(0.5rem);\n\n  &:focus,\n  &:hover {\n    outline: none;\n  }\n\n  &:hover {\n    opacity: 1;\n    transform: none;\n  }\n\n  [data-layout='viz'] & {\n    right: 100%;\n    color: black;\n  }\n"],["\n  appearance: none;\n  background: white;\n  box-shadow: var(--shadow);\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 0.5rem 1rem;\n  border-top-left-radius: 1rem;\n  border-bottom-left-radius: 1rem;\n  color: black;\n  border: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n  z-index: 2;\n  margin-top: 1rem;\n  opacity: 0.7;\n  transition: all var(--duration) var(--easing);\n  transform: translateX(0.5rem);\n\n  &:focus,\n  &:hover {\n    outline: none;\n  }\n\n  &:hover {\n    opacity: 1;\n    transform: none;\n  }\n\n  [data-layout='viz'] & {\n    right: 100%;\n    color: black;\n  }\n"]))),je=function(n){var e=n.onClick,t=n.children;return a.a.createElement(Oe,{onClick:e},t)},ze=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},Se=function(){return(Se=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}).apply(this,arguments)},Ce=function(n,e,t,r){return new(t||(t=Promise))(function(a,o){function i(n){try{c(r.next(n))}catch(e){o(e)}}function l(n){try{c(r.throw(n))}catch(e){o(e)}}function c(n){n.done?a(n.value):new t(function(e){e(n.value)}).then(i,l)}c((r=r.apply(n,e||[])).next())})},Pe=function(n,e){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(n,i)}catch(l){o=[6,l],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Te=l.a.main(Re||(Re=ze(["\n  --color-app-background: #fff;\n  --color-border: #dedede;\n  --color-primary: rgba(87, 176, 234, 1);\n  --color-primary-faded: rgba(87, 176, 234, 0.5);\n  --color-primary-shadow: rgba(87, 176, 234, 0.1);\n  --color-link: rgba(87, 176, 234, 1);\n  --color-disabled: #c7c5c5;\n  --color-edge: rgba(0, 0, 0, 0.2);\n  --color-edge-active: var(--color-primary);\n  --color-secondary: rgba(255, 152, 0, 1);\n  --color-secondary-light: rgba(255, 152, 0, 0.5);\n  --color-sidebar: #272722;\n  --color-gray: #555;\n  --color-failure: #ee7170;\n  --color-success: #31ae00;\n  --radius: 0.2rem;\n  --border-width: 2px;\n  --sidebar-width: 25rem;\n  --shadow: 0 0.5rem 1rem var(--shadow-color, rgba(0, 0, 0, 0.2));\n  --duration: 0.2s;\n  --easing: cubic-bezier(0.5, 0, 0.5, 1);\n\n  height: 100%;\n  display: grid;\n  grid-template-areas:\n    'header sidebar'\n    'content content';\n  grid-template-rows: 3rem auto;\n  grid-template-columns: auto var(--sidebar-width);\n  overflow: hidden;\n\n  > "," {\n    display: inline-block;\n    grid-row: 2;\n    grid-column: -1;\n  }\n"],["\n  --color-app-background: #fff;\n  --color-border: #dedede;\n  --color-primary: rgba(87, 176, 234, 1);\n  --color-primary-faded: rgba(87, 176, 234, 0.5);\n  --color-primary-shadow: rgba(87, 176, 234, 0.1);\n  --color-link: rgba(87, 176, 234, 1);\n  --color-disabled: #c7c5c5;\n  --color-edge: rgba(0, 0, 0, 0.2);\n  --color-edge-active: var(--color-primary);\n  --color-secondary: rgba(255, 152, 0, 1);\n  --color-secondary-light: rgba(255, 152, 0, 0.5);\n  --color-sidebar: #272722;\n  --color-gray: #555;\n  --color-failure: #ee7170;\n  --color-success: #31ae00;\n  --radius: 0.2rem;\n  --border-width: 2px;\n  --sidebar-width: 25rem;\n  --shadow: 0 0.5rem 1rem var(--shadow-color, rgba(0, 0, 0, 0.2));\n  --duration: 0.2s;\n  --easing: cubic-bezier(0.5, 0, 0.5, 1);\n\n  height: 100%;\n  display: grid;\n  grid-template-areas:\n    'header sidebar'\n    'content content';\n  grid-template-rows: 3rem auto;\n  grid-template-columns: auto var(--sidebar-width);\n  overflow: hidden;\n\n  > "," {\n    display: inline-block;\n    grid-row: 2;\n    grid-column: -1;\n  }\n"])),Oe),Ae=l.a.header(Ie||(Ie=ze(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: stretch;\n  grid-area: header;\n  padding: 0.5rem 1rem;\n  z-index: 1;\n"],["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: stretch;\n  grid-area: header;\n  padding: 0.5rem 1rem;\n  z-index: 1;\n"]))),_e=Object(l.a)(function(n){var e=n.className;return a.a.createElement("svg",{version:"1.1",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 279.8 98.5",xmlSpace:"preserve",className:e},a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{d:"M55.8,10.4L55.8,10.4h19.5L55.6,44.6l0,0C49.6,33.9,49.7,20.9,55.8,10.4z",fill:"var(--fill, black)"}),a.a.createElement("polygon",{points:"75.4,88.1 30.5,10.4 11,10.4 33.4,49.3 11,88.1 30.5,88.1 43.2,66.2 55.8,88.1",fill:"var(--fill, black)"})),a.a.createElement("g",{className:"st0"},a.a.createElement("path",{d:"M89.1,59.8c3.2,2.7,6.9,4,11.3,4.1c5.2-0.1,7.8-2,7.9-5.7c0-3.1-1.7-4.9-5.2-5.5c-1.6-0.2-3.4-0.5-5.3-0.8\n\t\t\tc-3.4-0.6-6-1.9-7.8-3.9c-1.8-2.1-2.8-4.6-2.8-7.6c0-3.6,1.2-6.5,3.5-8.7c2.2-2.2,5.4-3.3,9.5-3.3c4.9,0.1,9.2,1.5,12.9,4.2\n\t\t\tl-3.4,5.1c-3-2-6.3-3.1-9.8-3.2c-1.9,0-3.4,0.5-4.6,1.4c-1.3,1-2,2.5-2,4.4c0,1.2,0.4,2.3,1.3,3.2c0.9,1,2.3,1.7,4.3,2\n\t\t\tc1.1,0.2,2.6,0.4,4.5,0.6c3.7,0.5,6.5,1.9,8.3,4.1c1.8,2.2,2.6,4.7,2.6,7.7C114,66,109.4,69.9,100.3,70c-5.9,0-10.9-1.9-15.2-5.6\n\t\t\tL89.1,59.8z",fill:"var(--fill, black)"}),a.a.createElement("path",{d:"M135.5,34.2h-10.9v-5.5h27.8v5.5h-10.9v35.5h-6V34.2z",fill:"var(--fill, black)"}),a.a.createElement("path",{d:"M180.9,60.5h-15.1l-3.1,9.2h-6.4l14.4-41h5l14.4,41H184L180.9,60.5z M179.2,55l-5.7-17.9h-0.1L167.6,55H179.2z",fill:"var(--fill, black)"}),a.a.createElement("path",{d:"M205.4,34.2h-10.9v-5.5h27.8v5.5h-10.9v35.5h-6V34.2z",fill:"var(--fill, black)"}),a.a.createElement("path",{d:"M234.2,28.7h25.4v5.8h-19.4v11.7h16.5v5.5h-16.5v12.1h19.4v5.8h-25.4V28.7z",fill:"var(--fill, black)"}))))})(Ue||(Ue=ze(["\n  height: 2rem;\n"],["\n  height: 2rem;\n"]))),Me=l.a.a(Ge||(Ge=ze(["\n  text-decoration: none;\n  color: #57b0ea;\n  text-transform: uppercase;\n  display: block;\n  font-size: 75%;\n  font-weight: bold;\n  margin: 0 0.25rem;\n"],["\n  text-decoration: none;\n  color: #57b0ea;\n  text-transform: uppercase;\n  display: block;\n  font-size: 75%;\n  font-weight: bold;\n  margin: 0 0.25rem;\n"]))),Ne=l.a.nav(Fe||(Fe=ze(["\n  display: flex;\n  flex-direction: row;\n\n  > "," {\n    line-height: 2rem;\n    margin-left: 1rem;\n  }\n\n  &,\n  &:visited {\n  }\n"],["\n  display: flex;\n  flex-direction: row;\n\n  > "," {\n    line-height: 2rem;\n    margin-left: 1rem;\n  }\n\n  &,\n  &:visited {\n  }\n"])),Me);function Le(n){if(window.history){var e=Se({},pe.a.parse(window.location.search),n);window.history.replaceState(null,"","?"+pe.a.stringify(e))}}window.updateQuery=Le;var De=function(){var n=null,e=null;return{send:function(t){e=t,n&&n(t)},listen:function(t){n=t,e&&n(e)}}}();window.authCallback=function(n){De.send(n)};var Re,Ie,Ue,Ge,Fe,Xe=pe.a.parse(window.location.search),Je=Object(c.a)({id:"app",context:{query:Xe,token:void 0,gist:void 0,machine:be,user:void 0},invoke:[{id:"test",src:function(){return function(n){De.listen(function(e){n({type:"CODE",code:e})})}}}],type:"parallel",states:{auth:{initial:"checkingCode",states:{checkingCode:{on:{"":[{target:"authorizing",cond:function(n){return!!n.query.code}},{target:"gettingUser",cond:function(n){return!!n.token}},{target:"unauthorized",actions:Object(d.b)({machine:be})}]}},authorizing:{invoke:{src:function(n,e){return fetch("https://xstate-gist.azurewebsites.net/api/GistPost?code="+e.code+"&redirect_uri="+encodeURI(window.location.href)).then(function(n){if(!n.ok)throw new Error("unauthorized");return n.json()}).then(function(n){if(n.error)throw new Error("expired code");return n})},onDone:{target:"gettingUser",actions:Object(d.b)({token:function(n,e){return e.data.access_token}})},onError:{target:"unauthorized",actions:function(n,e){return alert(e.data)}}}},gettingUser:{invoke:{src:function(n){return fetch("https://api.github.com/user",{headers:{Authorization:"token "+n.token}}).then(function(n){if(!n.ok)throw new Error("Unable to get user");return n.json()})},onDone:{target:"authorized",actions:Object(d.b)({user:function(n,e){return e.data}})},onError:{target:"unauthorized",actions:function(n,e){console.error(e),Be.notify({message:"Authorization failed",description:e.data.message,severity:"error"})}}}},authorized:{type:"parallel",states:{user:{},gist:{initial:"idle",states:{idle:{initial:"default",states:{default:{},patched:{after:{1000:"default"}},posted:{after:{1000:"default"}}}},patching:{invoke:{src:function(n,e){return fetch("https://api.github.com/gists/"+n.gist.id,{method:"post",body:JSON.stringify({description:"Generated by [XState Viz](https://xstate.js.org/viz)",public:!0,files:{"machine.js":{content:e.code}}}),headers:{Authorization:"token "+n.token}}).then(function(n){return Ce(void 0,void 0,void 0,function(){var e;return Pe(this,function(t){switch(t.label){case 0:return n.ok?[3,2]:(e=Error.bind,[4,n.json()]);case 1:throw new(e.apply(Error,[void 0,t.sent().message]));case 2:return[2,n.json()]}})})})},onDone:{target:"idle.patched",actions:[function(n){return Be.notify({message:"Saved!",description:"Copy and paste the URL to share the visualization.",severity:"success"})}]},onError:{target:"idle",actions:function(n,e){console.error(e),Be.notify({message:"Failed to save machine",severity:"error",description:e.data.message})}}}},posting:{invoke:{src:function(n,e){return fetch("https://api.github.com/gists",{method:"post",body:JSON.stringify({description:"Generated by [XState Viz](https://xstate.js.org/viz)",public:!0,files:{"machine.js":{content:e.code}}}),headers:{Authorization:"token "+n.token}}).then(function(n){if(!n.ok)throw new Error("Unable to post gist");return n.json()})},onDone:{target:"idle.posted",actions:[Object(d.b)({gist:function(n,e){return e.data}}),function(){return Be.notify({message:"Visualization uploaded!",description:"Copy and paste the URL to share the visualization.",severity:"success"})},function(n){return Le({gist:n.gist.id})}]}}}},on:{"GIST.SAVE":[{target:".idle",cond:function(n,e){try{zt(e.code)}catch(e){return console.error(e),Be.notify({message:"Failed to upload machine",severity:"error",description:e.message}),!0}return!1}},{target:".patching",cond:function(n){return!!n.gist&&n.gist.owner.login===n.user.login}},{target:".posting"}]}}},on:{LOGOUT:{target:"unauthorized",actions:Object(d.b)({token:void 0,user:void 0})}}},unauthorized:{on:{LOGIN:"pendingAuthorization","GIST.SAVE":"pendingAuthorization"}},pendingAuthorization:{entry:function(){window.open("https://github.com/login/oauth/authorize?client_id=39c1ec91c4ed507f6e4c&scope=gist","Login with GitHub","width=800,height=600")},on:{CODE:"authorizing","AUTH.CANCEL":"unauthorized"},after:{AUTH_TIMEOUT:{target:"unauthorized",actions:function(){Be.notify({message:"Authorization timed out",severity:"error"})}}}}},on:{LOGIN:".pendingAuthorization"}},gist:{initial:"checking",states:{checking:{on:{"":[{target:"fetching",cond:function(n){return!!n.query.gist}},{target:"idle"}]}},idle:{},fetching:{invoke:{src:function(n){return fetch("https://api.github.com/gists/"+n.query.gist,{headers:{Accept:"application/json"}}).then(function(n){return Ce(void 0,void 0,void 0,function(){var e;return Pe(this,function(t){switch(t.label){case 0:return n.ok?[3,2]:(e=Error.bind,[4,n.json()]);case 1:throw new(e.apply(Error,[void 0,t.sent().message]));case 2:return[2,n.json()]}})})})},onDone:{target:"loaded",actions:Object(d.b)({gist:function(n,e){return e.data},machine:function(n,e){return e.data.files["machine.js"].content}})},onError:{target:"idle",actions:[Object(d.b)({gist:void 0}),function(n){return Be.notify({message:"Gist not found.",severity:"error"})}]}}},loaded:{entry:function(n,e){return Be.notify("Gist loaded!")}}}}}},{delays:{AUTH_TIMEOUT:15e3}}),He=Object(r.createContext)({state:Je.initialState,send:function(){},service:{}});function Ve(n,e){switch(n){case"full":switch(e){case"TOGGLE":return"viz";default:return n}case"viz":switch(e){case"TOGGLE":return"full";default:return n}default:return n}}var Ye=Object(s.b)(oe).start(),Be={toJSON:function(){return{id:"notifications"}},id:"notifications",send:Ye.send.bind(Ye),subscribe:Ye.subscribe.bind(Ye),notify:function(n){return Ye.send({type:"NOTIFICATIONS.QUEUE",data:"string"===typeof n?{message:n,severity:"info"}:n})}};function We(){return a.a.createElement(Ae,null,a.a.createElement(_e,null),a.a.createElement(Ne,null,a.a.createElement(Me,{href:"https://github.com/davidkpiano/xstate",target:"_xstate-github"},"GitHub"),a.a.createElement(Me,{href:"https://xstate.js.org/docs",target:"_xstate-docs"},"Docs"),a.a.createElement(Me,{href:"https://spectrum.chat/statecharts",target:"_statecharts-community"},"Community"),a.a.createElement(Me,{href:"https://opencollective.com/xstate",target:"_sponsor"},"Sponsor \ud83d\udc99")))}var qe=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n};var Qe,$e,Ke,Ze,nt,et,tt,rt,at,ot=l.a.ul(Qe||(Qe=qe(["\n  list-style: none;\n  padding: 0;\n  overflow-y: scroll;\n"],["\n  list-style: none;\n  padding: 0;\n  overflow-y: scroll;\n"]))),it=l.a.li($e||($e=qe(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  border-bottom: 1px solid #444;\n\n  > pre {\n    margin: 0;\n    flex-grow: 1;\n  }\n\n  &[data-builtin] {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  details {\n    width: 100%;\n  }\n\n  summary {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    height: 2rem;\n    padding: 0 0.5rem;\n\n    > :first-child {\n      margin-right: auto;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n"],["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  border-bottom: 1px solid #444;\n\n  > pre {\n    margin: 0;\n    flex-grow: 1;\n  }\n\n  &[data-builtin] {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  details {\n    width: 100%;\n  }\n\n  summary {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    height: 2rem;\n    padding: 0 0.5rem;\n\n    > :first-child {\n      margin-right: auto;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n  }\n"]))),lt=l.a.section(Ke||(Ke=qe(["\n  display: grid;\n  grid-template-rows: 1fr 10rem;\n  grid-template-areas: 'events' 'editor';\n  overflow: hidden;\n"],["\n  display: grid;\n  grid-template-rows: 1fr 10rem;\n  grid-template-areas: 'events' 'editor';\n  overflow: hidden;\n"]))),ct=l.a.div(Ze||(Ze=qe(["\n  margin-bottom: 0.5rem;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-content: flex-start;\n  flex-wrap: wrap;\n  overflow-y: auto;\n"],["\n  margin-bottom: 0.5rem;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-content: flex-start;\n  flex-wrap: wrap;\n  overflow-y: auto;\n"]))),st=l.a.button(nt||(nt=qe(["\n  appearance: none;\n  margin-right: 0.5rem;\n  margin-bottom: 0.5rem;\n  background-color: var(--color-primary);\n  border: none;\n  color: white;\n  padding: 0.25rem 0.5rem;\n  border-radius: 2rem;\n  font-size: 0.75em;\n  font-weight: bold;\n"],["\n  appearance: none;\n  margin-right: 0.5rem;\n  margin-bottom: 0.5rem;\n  background-color: var(--color-primary);\n  border: none;\n  color: white;\n  padding: 0.25rem 0.5rem;\n  border-radius: 2rem;\n  font-size: 0.75em;\n  font-weight: bold;\n"]))),dt=l.a.div(et||(et=qe(["\n  display: grid;\n  grid-template-columns: 60% 40%;\n  grid-template-rows: 1fr auto;\n  grid-template-areas: 'code events' 'code send';\n  padding: 1rem;\n  border-top: 2px solid #444;\n\n  > "," {\n    grid-area: send;\n  }\n\n  > "," {\n    grid-area events;\n  }\n"],["\n  display: grid;\n  grid-template-columns: 60% 40%;\n  grid-template-rows: 1fr auto;\n  grid-template-areas: 'code events' 'code send';\n  padding: 1rem;\n  border-top: 2px solid #444;\n\n  > "," {\n    grid-area: send;\n  }\n\n  > "," {\n    grid-area events;\n  }\n"])),B,ct),ut=l.a.time(tt||(tt=qe(["\n  color: #777;\n  margin-left: 0.5rem;\n"],["\n  color: #777;\n  margin-left: 0.5rem;\n"]))),pt={eventCode:JSON.stringify({type:""},null,2)},ft=Object(c.a)({id:"sendEvent",initial:"idle",context:pt,states:{idle:{on:{UPDATE:{actions:Object(d.b)({eventCode:function(n,e){return e.value}})},AUTOFILL:{actions:[Object(d.b)({eventCode:function(n,e){return e.value}}),"moveCursor"]},SEND:{actions:"sendToService"}}}}}),mt=function(n){var e=n.records,t=n.state,o=n.service,i=Object(zn.useMachine)(ft,{execute:!1}),l=i[0],c=i[1],s=i[2],d=Object(r.useRef)(null),u=Object(r.useRef)(null);Object(r.useEffect)(function(){s.execute(l,{moveCursor:function(){d.current&&(d.current.moveCursorTo(1),d.current.navigateLineEnd(),d.current.focus())}})},[l,o]),Object(r.useEffect)(function(){u.current&&(u.current.scrollTop=u.current.scrollHeight)},[u.current,e.length]);var p=Object(r.useCallback)(function(n){var e=n;if("string"===typeof n)try{e=JSON.parse(n)}catch(t){return void Be.notify({message:"Failed to send event",description:t.message,severity:"error"})}b(e.type)||o.send(e)},[o]);return a.a.createElement(lt,null,a.a.createElement(ot,{ref:u},e.map(function(n,e){var t=n.event,r=n.time,o=JSON.stringify(t,null,2),i=b(t.type);return a.a.createElement(it,{key:e,title:"Double-click to send, click to edit","data-builtin":i||void 0},a.a.createElement("details",null,a.a.createElement("summary",null,i?a.a.createElement("em",null,t.type):a.a.createElement(a.a.Fragment,null,a.a.createElement("strong",{title:t.type},t.type),a.a.createElement(B,{"data-variant":"link",onClick:function(){p(t)}},"Replay"),a.a.createElement(B,{"data-variant":"link",onClick:function(n){n.stopPropagation(),c("AUTOFILL",{value:o})}},"Edit")),a.a.createElement(ut,null,Object(te.format)(r,"hh:mm:ss.SS"))),a.a.createElement("pre",null,i?t.type:JSON.stringify(t,null,2))))})),a.a.createElement(dt,null,a.a.createElement(ct,null,function(n){return n.nextEvents.filter(function(n){return!b(n)})}(t).map(function(n){return a.a.createElement(st,{key:n,onClick:function(e){e.stopPropagation(),c("AUTOFILL",{value:JSON.stringify({type:n},null,2)})}},n)})),a.a.createElement(ee.a,{ref:function(n){n&&(d.current=n.editor)},mode:"javascript",theme:"monokai",editorProps:{$blockScrolling:!0},value:l.context.eventCode,onChange:function(n){c("UPDATE",{value:n})},setOptions:{tabSize:2,fontSize:"12px"},width:"100%",height:"5em",showGutter:!1,readOnly:!1,cursorStart:3}),a.a.createElement(B,{"data-variant":"primary","data-size":"full",onClick:function(){return p(l.context.eventCode)}},"Send")))},gt=(t(424),t(425),function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}),ht=l.a.div(rt||(rt=gt(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n"],["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n"]))),vt=l.a.div(at||(at=gt(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-column-gap: 1rem;\n"],["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-column-gap: 1rem;\n"]))),yt=function(n){var e=Object(r.useState)(n.code),t=e[0],o=e[1],i=Object(r.useContext)(He).state,l=n.onChange,c=n.onSave,s=n.height,d=void 0===s?"100%":s,u=n.changeText,p=void 0===u?"Update":u,f=n.mode,m=void 0===f?"javascript":f,g=i.matches({auth:{authorized:{gist:"patching"}}})||i.matches({auth:{authorized:{gist:"posting"}}});return a.a.createElement(ht,null,a.a.createElement(ee.a,{mode:m,theme:"monokai",editorProps:{$blockScrolling:!0},value:t,onChange:function(n){return o(n)},setOptions:{tabSize:2,fontSize:"12px"},width:"100%",height:d,showGutter:!1,readOnly:!l,wrapEnabled:!0}),a.a.createElement(vt,null,a.a.createElement(B,{"data-variant":"secondary",disabled:g,onClick:function(){return l(t)}},p),a.a.createElement(B,{"data-variant":"primary",disabled:g||i.matches({auth:"pendingAuthorization"}),onClick:function(){l(t),c(t)}},i.matches({auth:{authorized:{gist:"patching"}}})?"Saving...":i.matches({auth:{authorized:{gist:"posting"}}})?"Uploading...":i.matches({auth:{authorized:{gist:{idle:"patched"}}}})?"Saved!":i.matches({auth:{authorized:{gist:{idle:"posted"}}}})?"Uploaded!":i.matches({auth:"authorized"})?"Save":i.matches({auth:"authorized"})||i.matches({auth:"unauthorized"})?"Login to save":"Logging in...")))},bt=function(n){var e=n.code,t=n.onChange,r=n.onSave;return a.a.createElement(yt,{code:e,onChange:t,onSave:r})},wt=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},xt=function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),kt=l.a.li(St||(St=wt(["\n  padding: 0 1rem;\n  border-bottom: 2px solid transparent;\n  list-style: none;\n  text-transform: uppercase;\n  user-select: none;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &:not([data-active]):hover {\n    border-color: var(--color-secondary-light);\n  }\n\n  &[data-active] {\n    border-color: var(--color-secondary);\n  }\n"],["\n  padding: 0 1rem;\n  border-bottom: 2px solid transparent;\n  list-style: none;\n  text-transform: uppercase;\n  user-select: none;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &:not([data-active]):hover {\n    border-color: var(--color-secondary-light);\n  }\n\n  &[data-active] {\n    border-color: var(--color-secondary);\n  }\n"]))),Et=l.a.ul(Ct||(Ct=wt(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: stretch;\n  margin: 0;\n  padding: 0;\n  flex-grow: 0;\n  flex-shrink: 0;\n  position: sticky;\n  top: 0;\n"],["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: stretch;\n  margin: 0;\n  padding: 0;\n  flex-grow: 0;\n  flex-shrink: 0;\n  position: sticky;\n  top: 0;\n"]))),Ot=l.a.div(Pt||(Pt=wt(["\n  background-color: var(--color-sidebar);\n  color: white;\n  overflow: hidden;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 2rem 1fr;\n  border-top-left-radius: 1rem;\n  box-shadow: var(--shadow);\n  transition: transform 0.6s cubic-bezier(0.5, 0, 0.5, 1);\n  z-index: 1;\n"],["\n  background-color: var(--color-sidebar);\n  color: white;\n  overflow: hidden;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 2rem 1fr;\n  border-top-left-radius: 1rem;\n  box-shadow: var(--shadow);\n  transition: transform 0.6s cubic-bezier(0.5, 0, 0.5, 1);\n  z-index: 1;\n"]))),jt=l.a.div(Tt||(Tt=wt(["\n  grid-area: content;\n  display: grid;\n  grid-template-columns: 1fr var(--sidebar-width, 25rem);\n  grid-template-rows: 1fr;\n  grid-template-areas: 'content sidebar';\n  grid-column-gap: 1rem;\n  font-family: sans-serif;\n  font-size: 12px;\n  overflow: hidden;\n  max-height: inherit;\n\n  > "," {\n    grid-area: sidebar;\n  }\n\n  > "," {\n    grid-area: content;\n  }\n\n  > * {\n    max-height: inherit;\n    overflow-y: auto;\n  }\n\n  [data-layout='viz'] & {\n    > :not(",") {\n      grid-column: 1 / -1;\n    }\n\n    > "," {\n      transform: translateX(100%);\n    }\n  }\n"],["\n  grid-area: content;\n  display: grid;\n  grid-template-columns: 1fr var(--sidebar-width, 25rem);\n  grid-template-rows: 1fr;\n  grid-template-areas: 'content sidebar';\n  grid-column-gap: 1rem;\n  font-family: sans-serif;\n  font-size: 12px;\n  overflow: hidden;\n  max-height: inherit;\n\n  > "," {\n    grid-area: sidebar;\n  }\n\n  > "," {\n    grid-area: content;\n  }\n\n  > * {\n    max-height: inherit;\n    overflow-y: auto;\n  }\n\n  [data-layout='viz'] & {\n    > :not(",") {\n      grid-column: 1 / -1;\n    }\n\n    > "," {\n      transform: translateX(100%);\n    }\n  }\n"])),Ot,_n,Ot,Ot);function zt(n){if("string"!==typeof n)return n;var e;try{e=new Function("Machine","interpret","assign","send","sendParent","spawn","raise","actions","XState",n)}catch(r){throw r}var t=[];try{e(function(n,e){var r=Object(c.a)(n,e);return t.push(r),r},s.b,d.b,d.l,d.m,s.c,W.raise,u.actions,u)}catch(r){throw r}return t[t.length-1]}var St,Ct,Pt,Tt,At=function(n){function e(){var e=null!==n&&n.apply(this,arguments)||this;return e.state=function(){var n=zt(e.props.machine);return{current:n.initialState,preview:void 0,previewEvent:void 0,view:"definition",machine:n,code:"string"===typeof e.props.machine?e.props.machine:"Machine("+JSON.stringify(n.config,null,2)+")",toggledStates:{},service:Object(s.b)(n,{}).onTransition(function(n){e.handleTransition(n)}),events:[]}}(),e.svgRef=a.a.createRef(),e}return xt(e,n),e.prototype.handleTransition=function(n){var e=this,t={event:n.event,time:Date.now()};this.setState({current:n,events:this.state.events.concat(t)},function(){e.state.previewEvent})},e.prototype.componentDidMount=function(){this.state.service.start()},e.prototype.componentDidUpdate=function(n){var e=this.props.machine;e!==n.machine&&this.updateMachine(e.toString())},e.prototype.renderView=function(){var n=this,e=this.state,t=e.view,r=e.current,o=e.code,i=e.service,l=e.events,c=this.props.onSave;switch(t){case"definition":return a.a.createElement(bt,{code:o,onChange:function(e){return n.updateMachine(e)},onSave:c});case"state":return a.a.createElement(Zn,{state:r,service:i});case"events":return a.a.createElement(mt,{state:r,service:i,records:l});default:return null}},e.prototype.updateMachine=function(n){var e;try{e=zt(n),Object(p.getEdges)(e)}catch(t){return Be.notify({message:"Failed to update machine",severity:"error",description:t.message}),void console.error(t)}this.reset(n,e)},e.prototype.reset=function(n,e){var t=this;void 0===n&&(n=this.state.code),void 0===e&&(e=this.state.machine),this.state.service.stop(),this.setState({code:n,machine:e,events:[],current:e.initialState},function(){t.setState({service:Object(s.b)(t.state.machine).onTransition(function(n){t.handleTransition(n)}).start()},function(){console.log(t.state.service)})})},e.prototype.render=function(){var n=this,e=this.props.className,t=this.state,r=t.code,o=t.service;return a.a.createElement(jt,{className:e,key:r,style:{background:"var(--color-app-background)"}},a.a.createElement(Mn,{service:o,onReset:function(){return n.reset()}}),a.a.createElement(Ot,null,a.a.createElement(Et,null,["definition","state","events"].map(function(e){return a.a.createElement(kt,{onClick:function(){return n.setState({view:e})},key:e,"data-active":n.state.view===e||void 0},e)})),this.renderView()))},e}(a.a.Component),_t=function(){var n=Object(zn.useMachine)(Je),e=n[0],t=n[1],o=n[2],i=Object(r.useReducer)(Ve,Xe.layout||"full"),l=i[0],c=i[1];return a.a.createElement(Te,{"data-layout":l},a.a.createElement(de,{notifier:Be}),a.a.createElement(He.Provider,{value:{state:e,send:t,service:o}},a.a.createElement(ye,null),a.a.createElement(We,null),e.matches({gist:"fetching"})?a.a.createElement(ke,null):a.a.createElement(a.a.Fragment,null,a.a.createElement(At,{machine:e.context.machine,onSave:function(n){t("GIST.SAVE",{code:n})}}),a.a.createElement(je,{onClick:function(){return c("TOGGLE")}},{full:"Hide",viz:"Code"}[l]||"Show"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Mt=t(102),Nt=t.n(Mt).a.parse(window.location.search);Nt.code&&window.opener?(window.opener.authCallback(Nt.code),setTimeout(function(){return window.close()})):(i.a.render(a.a.createElement(_t,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()}))}},[[104,1,2]]]);
//# sourceMappingURL=main.9aa231b5.chunk.js.map