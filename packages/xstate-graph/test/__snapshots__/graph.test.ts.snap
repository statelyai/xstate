// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`@xstate/graph getAlternatePaths() should return a mapping of arrays of paths to target state with max revisits: alternate paths 1`] = `
Object {
  "{\\"red\\":\\"flashing\\"}": Array [
    Object {
      "segments": Array [
        Object {
          "event": Object {
            "type": "TIMER",
          },
          "state": "green",
        },
        Object {
          "event": Object {
            "type": "POWER_OUTAGE",
          },
          "state": "yellow",
        },
      ],
    },
    Object {
      "segments": Array [
        Object {
          "event": Object {
            "type": "POWER_OUTAGE",
          },
          "state": "green",
        },
      ],
    },
  ],
  "{\\"red\\":\\"walk\\"}": Array [
    Object {
      "segments": Array [
        Object {
          "event": Object {
            "type": "TIMER",
          },
          "state": "green",
        },
        Object {
          "event": Object {
            "type": "TIMER",
          },
          "state": "yellow",
        },
      ],
    },
  ],
}
`;

exports[`@xstate/graph getAlternatePaths() should return a mapping of arrays of paths to target state: alternate paths 1`] = `
Object {
  "{\\"red\\":\\"flashing\\"}": Array [
    Object {
      "segments": Array [
        Object {
          "event": Object {
            "type": "TIMER",
          },
          "state": "green",
        },
        Object {
          "event": Object {
            "type": "POWER_OUTAGE",
          },
          "state": "yellow",
        },
      ],
    },
    Object {
      "segments": Array [
        Object {
          "event": Object {
            "type": "POWER_OUTAGE",
          },
          "state": "green",
        },
      ],
    },
  ],
  "{\\"red\\":\\"walk\\"}": Array [
    Object {
      "segments": Array [
        Object {
          "event": Object {
            "type": "TIMER",
          },
          "state": "green",
        },
        Object {
          "event": Object {
            "type": "TIMER",
          },
          "state": "yellow",
        },
      ],
    },
  ],
}
`;

exports[`@xstate/graph getShortestPaths() should represent conditional paths based on context: shortest paths conditional 1`] = `
Object {
  "\\"bar\\" | {\\"id\\":\\"foo\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "id": "whatever",
              "type": "EVENT",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "xstate.init",
                },
                "name": "xstate.init",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": undefined,
              "children": Object {},
              "context": Object {
                "id": "foo",
              },
              "event": Object {
                "type": "xstate.init",
              },
              "events": Array [],
              "history": undefined,
              "historyValue": undefined,
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "pending",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "id": "whatever",
              "type": "EVENT",
            },
            "name": "EVENT",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": Object {
            "id": "foo",
          },
          "event": Object {
            "id": "whatever",
            "type": "EVENT",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "xstate.init",
              },
              "name": "xstate.init",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": undefined,
            "children": Object {},
            "context": Object {
              "id": "foo",
            },
            "event": Object {
              "type": "xstate.init",
            },
            "events": Array [],
            "historyValue": undefined,
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": "pending",
          },
          "historyValue": Object {
            "current": "bar",
            "states": Object {
              "bar": undefined,
              "foo": undefined,
              "pending": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": "bar",
        },
        "weight": 1,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "id": "whatever",
          "type": "EVENT",
        },
        "name": "EVENT",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": Object {
        "id": "foo",
      },
      "event": Object {
        "id": "whatever",
        "type": "EVENT",
      },
      "events": Array [],
      "history": Object {
        "_event": Object {
          "$$type": "scxml",
          "data": Object {
            "type": "xstate.init",
          },
          "name": "xstate.init",
          "type": "external",
        },
        "_sessionid": null,
        "actions": Array [],
        "activities": Object {},
        "changed": undefined,
        "children": Object {},
        "context": Object {
          "id": "foo",
        },
        "event": Object {
          "type": "xstate.init",
        },
        "events": Array [],
        "historyValue": undefined,
        "matches": [Function],
        "meta": Object {},
        "toStrings": [Function],
        "value": "pending",
      },
      "historyValue": Object {
        "current": "bar",
        "states": Object {
          "bar": undefined,
          "foo": undefined,
          "pending": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": "bar",
    },
  },
  "\\"foo\\" | {\\"id\\":\\"foo\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "STATE",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "xstate.init",
                },
                "name": "xstate.init",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": undefined,
              "children": Object {},
              "context": Object {
                "id": "foo",
              },
              "event": Object {
                "type": "xstate.init",
              },
              "events": Array [],
              "history": undefined,
              "historyValue": undefined,
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "pending",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "STATE",
            },
            "name": "STATE",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": Object {
            "id": "foo",
          },
          "event": Object {
            "type": "STATE",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "xstate.init",
              },
              "name": "xstate.init",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": undefined,
            "children": Object {},
            "context": Object {
              "id": "foo",
            },
            "event": Object {
              "type": "xstate.init",
            },
            "events": Array [],
            "historyValue": undefined,
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": "pending",
          },
          "historyValue": Object {
            "current": "foo",
            "states": Object {
              "bar": undefined,
              "foo": undefined,
              "pending": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": "foo",
        },
        "weight": 1,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "STATE",
        },
        "name": "STATE",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": Object {
        "id": "foo",
      },
      "event": Object {
        "type": "STATE",
      },
      "events": Array [],
      "history": Object {
        "_event": Object {
          "$$type": "scxml",
          "data": Object {
            "type": "xstate.init",
          },
          "name": "xstate.init",
          "type": "external",
        },
        "_sessionid": null,
        "actions": Array [],
        "activities": Object {},
        "changed": undefined,
        "children": Object {},
        "context": Object {
          "id": "foo",
        },
        "event": Object {
          "type": "xstate.init",
        },
        "events": Array [],
        "historyValue": undefined,
        "matches": [Function],
        "meta": Object {},
        "toStrings": [Function],
        "value": "pending",
      },
      "historyValue": Object {
        "current": "foo",
        "states": Object {
          "bar": undefined,
          "foo": undefined,
          "pending": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": "foo",
    },
  },
  "\\"pending\\" | {\\"id\\":\\"foo\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "xstate.init",
            },
            "name": "xstate.init",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": undefined,
          "children": Object {},
          "context": Object {
            "id": "foo",
          },
          "event": Object {
            "type": "xstate.init",
          },
          "events": Array [],
          "history": undefined,
          "historyValue": undefined,
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": "pending",
        },
        "weight": 0,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "xstate.init",
        },
        "name": "xstate.init",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": undefined,
      "children": Object {},
      "context": Object {
        "id": "foo",
      },
      "event": Object {
        "type": "xstate.init",
      },
      "events": Array [],
      "history": undefined,
      "historyValue": undefined,
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": "pending",
    },
  },
}
`;

exports[`@xstate/graph getShortestPaths() should return a mapping of shortest paths to all states (parallel): shortest paths parallel 1`] = `
Object {
  "{\\"a\\":\\"a1\\",\\"b\\":\\"b1\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "1",
            },
            "name": "1",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "1",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "2",
              },
              "name": "2",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": true,
            "children": Object {},
            "context": undefined,
            "event": Object {
              "type": "2",
            },
            "events": Array [],
            "historyValue": Object {
              "current": Object {
                "a": "a2",
                "b": "b2",
              },
              "states": Object {
                "a": Object {
                  "current": "a2",
                  "states": Object {
                    "a1": undefined,
                    "a2": undefined,
                    "a3": undefined,
                  },
                },
                "b": Object {
                  "current": "b2",
                  "states": Object {
                    "b1": undefined,
                    "b2": undefined,
                    "b3": undefined,
                  },
                },
              },
            },
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": Object {
              "a": "a2",
              "b": "b2",
            },
          },
          "historyValue": Object {
            "current": Object {
              "a": "a1",
              "b": "b1",
            },
            "states": Object {
              "a": Object {
                "current": "a1",
                "states": Object {
                  "a1": undefined,
                  "a2": undefined,
                  "a3": undefined,
                },
              },
              "b": Object {
                "current": "b1",
                "states": Object {
                  "b1": undefined,
                  "b2": undefined,
                  "b3": undefined,
                },
              },
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "a": "a1",
            "b": "b1",
          },
        },
        "weight": 0,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "1",
        },
        "name": "1",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "1",
      },
      "events": Array [],
      "history": Object {
        "_event": Object {
          "$$type": "scxml",
          "data": Object {
            "type": "2",
          },
          "name": "2",
          "type": "external",
        },
        "_sessionid": null,
        "actions": Array [],
        "activities": Object {},
        "changed": true,
        "children": Object {},
        "context": undefined,
        "event": Object {
          "type": "2",
        },
        "events": Array [],
        "historyValue": Object {
          "current": Object {
            "a": "a2",
            "b": "b2",
          },
          "states": Object {
            "a": Object {
              "current": "a2",
              "states": Object {
                "a1": undefined,
                "a2": undefined,
                "a3": undefined,
              },
            },
            "b": Object {
              "current": "b2",
              "states": Object {
                "b1": undefined,
                "b2": undefined,
                "b3": undefined,
              },
            },
          },
        },
        "matches": [Function],
        "meta": Object {},
        "toStrings": [Function],
        "value": Object {
          "a": "a2",
          "b": "b2",
        },
      },
      "historyValue": Object {
        "current": Object {
          "a": "a1",
          "b": "b1",
        },
        "states": Object {
          "a": Object {
            "current": "a1",
            "states": Object {
              "a1": undefined,
              "a2": undefined,
              "a3": undefined,
            },
          },
          "b": Object {
            "current": "b1",
            "states": Object {
              "b1": undefined,
              "b2": undefined,
              "b3": undefined,
            },
          },
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "a": "a1",
        "b": "b1",
      },
    },
  },
  "{\\"a\\":\\"a2\\",\\"b\\":\\"b2\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "2",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "1",
                },
                "name": "1",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "1",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "2",
                  },
                  "name": "2",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "2",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "a": "a2",
                    "b": "b2",
                  },
                  "states": Object {
                    "a": Object {
                      "current": "a2",
                      "states": Object {
                        "a1": undefined,
                        "a2": undefined,
                        "a3": undefined,
                      },
                    },
                    "b": Object {
                      "current": "b2",
                      "states": Object {
                        "b1": undefined,
                        "b2": undefined,
                        "b3": undefined,
                      },
                    },
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "a": "a2",
                  "b": "b2",
                },
              },
              "historyValue": Object {
                "current": Object {
                  "a": "a1",
                  "b": "b1",
                },
                "states": Object {
                  "a": Object {
                    "current": "a1",
                    "states": Object {
                      "a1": undefined,
                      "a2": undefined,
                      "a3": undefined,
                    },
                  },
                  "b": Object {
                    "current": "b1",
                    "states": Object {
                      "b1": undefined,
                      "b2": undefined,
                      "b3": undefined,
                    },
                  },
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "a": "a1",
                "b": "b1",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "2",
            },
            "name": "2",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "2",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "xstate.init",
              },
              "name": "xstate.init",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": undefined,
            "children": Object {},
            "context": undefined,
            "event": Object {
              "type": "xstate.init",
            },
            "events": Array [],
            "historyValue": undefined,
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": Object {
              "a": "a1",
              "b": "b1",
            },
          },
          "historyValue": Object {
            "current": Object {
              "a": "a2",
              "b": "b2",
            },
            "states": Object {
              "a": Object {
                "current": "a2",
                "states": Object {
                  "a1": undefined,
                  "a2": undefined,
                  "a3": undefined,
                },
              },
              "b": Object {
                "current": "b2",
                "states": Object {
                  "b1": undefined,
                  "b2": undefined,
                  "b3": undefined,
                },
              },
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "a": "a2",
            "b": "b2",
          },
        },
        "weight": 1,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "2",
        },
        "name": "2",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "2",
      },
      "events": Array [],
      "history": Object {
        "_event": Object {
          "$$type": "scxml",
          "data": Object {
            "type": "xstate.init",
          },
          "name": "xstate.init",
          "type": "external",
        },
        "_sessionid": null,
        "actions": Array [],
        "activities": Object {},
        "changed": undefined,
        "children": Object {},
        "context": undefined,
        "event": Object {
          "type": "xstate.init",
        },
        "events": Array [],
        "historyValue": undefined,
        "matches": [Function],
        "meta": Object {},
        "toStrings": [Function],
        "value": Object {
          "a": "a1",
          "b": "b1",
        },
      },
      "historyValue": Object {
        "current": Object {
          "a": "a2",
          "b": "b2",
        },
        "states": Object {
          "a": Object {
            "current": "a2",
            "states": Object {
              "a1": undefined,
              "a2": undefined,
              "a3": undefined,
            },
          },
          "b": Object {
            "current": "b2",
            "states": Object {
              "b1": undefined,
              "b2": undefined,
              "b3": undefined,
            },
          },
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "a": "a2",
        "b": "b2",
      },
    },
  },
  "{\\"a\\":\\"a3\\",\\"b\\":\\"b3\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "3",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "1",
                },
                "name": "1",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "1",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "2",
                  },
                  "name": "2",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "2",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "a": "a2",
                    "b": "b2",
                  },
                  "states": Object {
                    "a": Object {
                      "current": "a2",
                      "states": Object {
                        "a1": undefined,
                        "a2": undefined,
                        "a3": undefined,
                      },
                    },
                    "b": Object {
                      "current": "b2",
                      "states": Object {
                        "b1": undefined,
                        "b2": undefined,
                        "b3": undefined,
                      },
                    },
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "a": "a2",
                  "b": "b2",
                },
              },
              "historyValue": Object {
                "current": Object {
                  "a": "a1",
                  "b": "b1",
                },
                "states": Object {
                  "a": Object {
                    "current": "a1",
                    "states": Object {
                      "a1": undefined,
                      "a2": undefined,
                      "a3": undefined,
                    },
                  },
                  "b": Object {
                    "current": "b1",
                    "states": Object {
                      "b1": undefined,
                      "b2": undefined,
                      "b3": undefined,
                    },
                  },
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "a": "a1",
                "b": "b1",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "3",
            },
            "name": "3",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "3",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "2",
              },
              "name": "2",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": true,
            "children": Object {},
            "context": undefined,
            "event": Object {
              "type": "2",
            },
            "events": Array [],
            "historyValue": Object {
              "current": Object {
                "a": "a2",
                "b": "b2",
              },
              "states": Object {
                "a": Object {
                  "current": "a2",
                  "states": Object {
                    "a1": undefined,
                    "a2": undefined,
                    "a3": undefined,
                  },
                },
                "b": Object {
                  "current": "b2",
                  "states": Object {
                    "b1": undefined,
                    "b2": undefined,
                    "b3": undefined,
                  },
                },
              },
            },
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": Object {
              "a": "a2",
              "b": "b2",
            },
          },
          "historyValue": Object {
            "current": Object {
              "a": "a3",
              "b": "b3",
            },
            "states": Object {
              "a": Object {
                "current": "a3",
                "states": Object {
                  "a1": undefined,
                  "a2": undefined,
                  "a3": undefined,
                },
              },
              "b": Object {
                "current": "b3",
                "states": Object {
                  "b1": undefined,
                  "b2": undefined,
                  "b3": undefined,
                },
              },
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "a": "a3",
            "b": "b3",
          },
        },
        "weight": 1,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "3",
        },
        "name": "3",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "3",
      },
      "events": Array [],
      "history": Object {
        "_event": Object {
          "$$type": "scxml",
          "data": Object {
            "type": "2",
          },
          "name": "2",
          "type": "external",
        },
        "_sessionid": null,
        "actions": Array [],
        "activities": Object {},
        "changed": true,
        "children": Object {},
        "context": undefined,
        "event": Object {
          "type": "2",
        },
        "events": Array [],
        "historyValue": Object {
          "current": Object {
            "a": "a2",
            "b": "b2",
          },
          "states": Object {
            "a": Object {
              "current": "a2",
              "states": Object {
                "a1": undefined,
                "a2": undefined,
                "a3": undefined,
              },
            },
            "b": Object {
              "current": "b2",
              "states": Object {
                "b1": undefined,
                "b2": undefined,
                "b3": undefined,
              },
            },
          },
        },
        "matches": [Function],
        "meta": Object {},
        "toStrings": [Function],
        "value": Object {
          "a": "a2",
          "b": "b2",
        },
      },
      "historyValue": Object {
        "current": Object {
          "a": "a3",
          "b": "b3",
        },
        "states": Object {
          "a": Object {
            "current": "a3",
            "states": Object {
              "a1": undefined,
              "a2": undefined,
              "a3": undefined,
            },
          },
          "b": Object {
            "current": "b3",
            "states": Object {
              "b1": undefined,
              "b2": undefined,
              "b3": undefined,
            },
          },
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "a": "a3",
        "b": "b3",
      },
    },
  },
}
`;

exports[`@xstate/graph getShortestPaths() should return a mapping of shortest paths to all states: shortest paths 1`] = `
Object {
  "\\"green\\"": Object {
    "paths": Array [
      Object {
        "segments": Array [],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "TIMER",
            },
            "name": "TIMER",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "TIMER",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "PED_COUNTDOWN",
              },
              "name": "PED_COUNTDOWN",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": true,
            "children": Object {},
            "context": undefined,
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "events": Array [],
            "historyValue": Object {
              "current": Object {
                "red": "stop",
              },
              "states": Object {
                "green": undefined,
                "red": Object {
                  "current": "stop",
                  "states": Object {
                    "flashing": undefined,
                    "stop": undefined,
                    "wait": undefined,
                    "walk": undefined,
                  },
                },
                "yellow": undefined,
              },
            },
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": Object {
              "red": "stop",
            },
          },
          "historyValue": Object {
            "current": "green",
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "stop",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": "green",
        },
        "weight": 0,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "TIMER",
        },
        "name": "TIMER",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "TIMER",
      },
      "events": Array [],
      "history": Object {
        "_event": Object {
          "$$type": "scxml",
          "data": Object {
            "type": "PED_COUNTDOWN",
          },
          "name": "PED_COUNTDOWN",
          "type": "external",
        },
        "_sessionid": null,
        "actions": Array [],
        "activities": Object {},
        "changed": true,
        "children": Object {},
        "context": undefined,
        "event": Object {
          "type": "PED_COUNTDOWN",
        },
        "events": Array [],
        "historyValue": Object {
          "current": Object {
            "red": "stop",
          },
          "states": Object {
            "green": undefined,
            "red": Object {
              "current": "stop",
              "states": Object {
                "flashing": undefined,
                "stop": undefined,
                "wait": undefined,
                "walk": undefined,
              },
            },
            "yellow": undefined,
          },
        },
        "matches": [Function],
        "meta": Object {},
        "toStrings": [Function],
        "value": Object {
          "red": "stop",
        },
      },
      "historyValue": Object {
        "current": "green",
        "states": Object {
          "green": undefined,
          "red": Object {
            "current": "stop",
            "states": Object {
              "flashing": undefined,
              "stop": undefined,
              "wait": undefined,
              "walk": undefined,
            },
          },
          "yellow": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": "green",
    },
  },
  "\\"yellow\\"": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "PED_COUNTDOWN",
                  },
                  "name": "PED_COUNTDOWN",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "PED_COUNTDOWN",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "stop",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "stop",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "stop",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "stop",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "TIMER",
            },
            "name": "TIMER",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "TIMER",
          },
          "events": Array [],
          "historyValue": Object {
            "current": "yellow",
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "walk",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": "yellow",
        },
        "weight": 1,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "TIMER",
        },
        "name": "TIMER",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "TIMER",
      },
      "events": Array [],
      "historyValue": Object {
        "current": "yellow",
        "states": Object {
          "green": undefined,
          "red": Object {
            "current": "walk",
            "states": Object {
              "flashing": undefined,
              "stop": undefined,
              "wait": undefined,
              "walk": undefined,
            },
          },
          "yellow": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": "yellow",
    },
  },
  "{\\"red\\":\\"flashing\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "POWER_OUTAGE",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "PED_COUNTDOWN",
                  },
                  "name": "PED_COUNTDOWN",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "PED_COUNTDOWN",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "stop",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "stop",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "stop",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "stop",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "POWER_OUTAGE",
            },
            "name": "POWER_OUTAGE",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "POWER_OUTAGE",
          },
          "events": Array [],
          "historyValue": Object {
            "current": Object {
              "red": "flashing",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "flashing",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "flashing",
          },
        },
        "weight": 1,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "POWER_OUTAGE",
        },
        "name": "POWER_OUTAGE",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "POWER_OUTAGE",
      },
      "events": Array [],
      "historyValue": Object {
        "current": Object {
          "red": "flashing",
        },
        "states": Object {
          "green": undefined,
          "red": Object {
            "current": "flashing",
            "states": Object {
              "flashing": undefined,
              "stop": undefined,
              "wait": undefined,
              "walk": undefined,
            },
          },
          "yellow": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "red": "flashing",
      },
    },
  },
  "{\\"red\\":\\"stop\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "PED_COUNTDOWN",
                  },
                  "name": "PED_COUNTDOWN",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "PED_COUNTDOWN",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "stop",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "stop",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "stop",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "stop",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
          Object {
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "walk",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "walk",
              },
            },
          },
          Object {
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "PED_COUNTDOWN",
                },
                "name": "PED_COUNTDOWN",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [
                Object {
                  "exec": undefined,
                  "type": "startCountdown",
                },
              ],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "PED_COUNTDOWN",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "wait",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "wait",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "wait",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "PED_COUNTDOWN",
            },
            "name": "PED_COUNTDOWN",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "PED_COUNTDOWN",
          },
          "events": Array [],
          "historyValue": Object {
            "current": Object {
              "red": "stop",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "stop",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "stop",
          },
        },
        "weight": 4,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "PED_COUNTDOWN",
        },
        "name": "PED_COUNTDOWN",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "PED_COUNTDOWN",
      },
      "events": Array [],
      "historyValue": Object {
        "current": Object {
          "red": "stop",
        },
        "states": Object {
          "green": undefined,
          "red": Object {
            "current": "stop",
            "states": Object {
              "flashing": undefined,
              "stop": undefined,
              "wait": undefined,
              "walk": undefined,
            },
          },
          "yellow": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "red": "stop",
      },
    },
  },
  "{\\"red\\":\\"wait\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "PED_COUNTDOWN",
                  },
                  "name": "PED_COUNTDOWN",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "PED_COUNTDOWN",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "stop",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "stop",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "stop",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "stop",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
          Object {
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "walk",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "walk",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "PED_COUNTDOWN",
            },
            "name": "PED_COUNTDOWN",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [
            Object {
              "exec": undefined,
              "type": "startCountdown",
            },
          ],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "PED_COUNTDOWN",
          },
          "events": Array [],
          "historyValue": Object {
            "current": Object {
              "red": "wait",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "wait",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "wait",
          },
        },
        "weight": 3,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "PED_COUNTDOWN",
        },
        "name": "PED_COUNTDOWN",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [
        Object {
          "exec": undefined,
          "type": "startCountdown",
        },
      ],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "PED_COUNTDOWN",
      },
      "events": Array [],
      "historyValue": Object {
        "current": Object {
          "red": "wait",
        },
        "states": Object {
          "green": undefined,
          "red": Object {
            "current": "wait",
            "states": Object {
              "flashing": undefined,
              "stop": undefined,
              "wait": undefined,
              "walk": undefined,
            },
          },
          "yellow": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "red": "wait",
      },
    },
  },
  "{\\"red\\":\\"walk\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "PED_COUNTDOWN",
                  },
                  "name": "PED_COUNTDOWN",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "PED_COUNTDOWN",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "stop",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "stop",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "stop",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "stop",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "TIMER",
            },
            "name": "TIMER",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "TIMER",
          },
          "events": Array [],
          "historyValue": Object {
            "current": Object {
              "red": "walk",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "walk",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "walk",
          },
        },
        "weight": 2,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "TIMER",
        },
        "name": "TIMER",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "TIMER",
      },
      "events": Array [],
      "historyValue": Object {
        "current": Object {
          "red": "walk",
        },
        "states": Object {
          "green": undefined,
          "red": Object {
            "current": "walk",
            "states": Object {
              "flashing": undefined,
              "stop": undefined,
              "wait": undefined,
              "walk": undefined,
            },
          },
          "yellow": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "red": "walk",
      },
    },
  },
}
`;

exports[`@xstate/graph getSimplePaths() should return a mapping of arrays of simple paths to all states: simple paths 1`] = `
Object {
  "\\"green\\"": Object {
    "paths": Array [
      Object {
        "segments": Array [],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "xstate.init",
            },
            "name": "xstate.init",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": undefined,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "xstate.init",
          },
          "events": Array [],
          "history": undefined,
          "historyValue": undefined,
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": "green",
        },
        "weight": 0,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "xstate.init",
        },
        "name": "xstate.init",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": undefined,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "xstate.init",
      },
      "events": Array [],
      "history": undefined,
      "historyValue": undefined,
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": "green",
    },
  },
  "\\"yellow\\"": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "xstate.init",
                },
                "name": "xstate.init",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": undefined,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "xstate.init",
              },
              "events": Array [],
              "history": undefined,
              "historyValue": undefined,
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "TIMER",
            },
            "name": "TIMER",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "TIMER",
          },
          "events": Array [],
          "historyValue": Object {
            "current": "yellow",
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "walk",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": "yellow",
        },
        "weight": 1,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "TIMER",
        },
        "name": "TIMER",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "TIMER",
      },
      "events": Array [],
      "historyValue": Object {
        "current": "yellow",
        "states": Object {
          "green": undefined,
          "red": Object {
            "current": "walk",
            "states": Object {
              "flashing": undefined,
              "stop": undefined,
              "wait": undefined,
              "walk": undefined,
            },
          },
          "yellow": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": "yellow",
    },
  },
  "{\\"red\\":\\"flashing\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "POWER_OUTAGE",
                  },
                  "name": "POWER_OUTAGE",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "POWER_OUTAGE",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "flashing",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "flashing",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "flashing",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "flashing",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
          Object {
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "walk",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "walk",
              },
            },
          },
          Object {
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "PED_COUNTDOWN",
                },
                "name": "PED_COUNTDOWN",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [
                Object {
                  "exec": undefined,
                  "type": "startCountdown",
                },
              ],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "PED_COUNTDOWN",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "wait",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "wait",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "wait",
              },
            },
          },
          Object {
            "event": Object {
              "type": "POWER_OUTAGE",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "PED_COUNTDOWN",
                },
                "name": "PED_COUNTDOWN",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "PED_COUNTDOWN",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "stop",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "stop",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "stop",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "POWER_OUTAGE",
            },
            "name": "POWER_OUTAGE",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "POWER_OUTAGE",
          },
          "events": Array [],
          "historyValue": Object {
            "current": Object {
              "red": "flashing",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "flashing",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "flashing",
          },
        },
        "weight": 5,
      },
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "POWER_OUTAGE",
                  },
                  "name": "POWER_OUTAGE",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "POWER_OUTAGE",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "flashing",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "flashing",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "flashing",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "flashing",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
          Object {
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "walk",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "walk",
              },
            },
          },
          Object {
            "event": Object {
              "type": "POWER_OUTAGE",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "PED_COUNTDOWN",
                },
                "name": "PED_COUNTDOWN",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [
                Object {
                  "exec": undefined,
                  "type": "startCountdown",
                },
              ],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "PED_COUNTDOWN",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "wait",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "wait",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "wait",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "POWER_OUTAGE",
            },
            "name": "POWER_OUTAGE",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "POWER_OUTAGE",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "PED_COUNTDOWN",
              },
              "name": "PED_COUNTDOWN",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [
              Object {
                "exec": undefined,
                "type": "startCountdown",
              },
            ],
            "activities": Object {},
            "changed": true,
            "children": Object {},
            "context": undefined,
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "events": Array [],
            "historyValue": Object {
              "current": Object {
                "red": "wait",
              },
              "states": Object {
                "green": undefined,
                "red": Object {
                  "current": "wait",
                  "states": Object {
                    "flashing": undefined,
                    "stop": undefined,
                    "wait": undefined,
                    "walk": undefined,
                  },
                },
                "yellow": undefined,
              },
            },
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": Object {
              "red": "wait",
            },
          },
          "historyValue": Object {
            "current": Object {
              "red": "flashing",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "flashing",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "flashing",
          },
        },
        "weight": 4,
      },
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "POWER_OUTAGE",
                  },
                  "name": "POWER_OUTAGE",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "POWER_OUTAGE",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "flashing",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "flashing",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "flashing",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "flashing",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
          Object {
            "event": Object {
              "type": "POWER_OUTAGE",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "walk",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "walk",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "POWER_OUTAGE",
            },
            "name": "POWER_OUTAGE",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "POWER_OUTAGE",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "TIMER",
              },
              "name": "TIMER",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": true,
            "children": Object {},
            "context": undefined,
            "event": Object {
              "type": "TIMER",
            },
            "events": Array [],
            "historyValue": Object {
              "current": Object {
                "red": "walk",
              },
              "states": Object {
                "green": undefined,
                "red": Object {
                  "current": "walk",
                  "states": Object {
                    "flashing": undefined,
                    "stop": undefined,
                    "wait": undefined,
                    "walk": undefined,
                  },
                },
                "yellow": undefined,
              },
            },
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": Object {
              "red": "walk",
            },
          },
          "historyValue": Object {
            "current": Object {
              "red": "flashing",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "flashing",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "flashing",
          },
        },
        "weight": 3,
      },
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "POWER_OUTAGE",
                  },
                  "name": "POWER_OUTAGE",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "POWER_OUTAGE",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "flashing",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "flashing",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "flashing",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "flashing",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "POWER_OUTAGE",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "POWER_OUTAGE",
            },
            "name": "POWER_OUTAGE",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "POWER_OUTAGE",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "TIMER",
              },
              "name": "TIMER",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": true,
            "children": Object {},
            "context": undefined,
            "event": Object {
              "type": "TIMER",
            },
            "events": Array [],
            "historyValue": Object {
              "current": "yellow",
              "states": Object {
                "green": undefined,
                "red": Object {
                  "current": "walk",
                  "states": Object {
                    "flashing": undefined,
                    "stop": undefined,
                    "wait": undefined,
                    "walk": undefined,
                  },
                },
                "yellow": undefined,
              },
            },
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": "yellow",
          },
          "historyValue": Object {
            "current": Object {
              "red": "flashing",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "flashing",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "flashing",
          },
        },
        "weight": 2,
      },
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "POWER_OUTAGE",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "TIMER",
                  },
                  "name": "TIMER",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "TIMER",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "walk",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "walk",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "walk",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "POWER_OUTAGE",
            },
            "name": "POWER_OUTAGE",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "POWER_OUTAGE",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "xstate.init",
              },
              "name": "xstate.init",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": undefined,
            "children": Object {},
            "context": undefined,
            "event": Object {
              "type": "xstate.init",
            },
            "events": Array [],
            "historyValue": undefined,
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": "green",
          },
          "historyValue": Object {
            "current": Object {
              "red": "flashing",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "flashing",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "flashing",
          },
        },
        "weight": 1,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "POWER_OUTAGE",
        },
        "name": "POWER_OUTAGE",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "POWER_OUTAGE",
      },
      "events": Array [],
      "historyValue": Object {
        "current": Object {
          "red": "flashing",
        },
        "states": Object {
          "green": undefined,
          "red": Object {
            "current": "flashing",
            "states": Object {
              "flashing": undefined,
              "stop": undefined,
              "wait": undefined,
              "walk": undefined,
            },
          },
          "yellow": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "red": "flashing",
      },
    },
  },
  "{\\"red\\":\\"stop\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "POWER_OUTAGE",
                  },
                  "name": "POWER_OUTAGE",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "POWER_OUTAGE",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "flashing",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "flashing",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "flashing",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "flashing",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
          Object {
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "walk",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "walk",
              },
            },
          },
          Object {
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "PED_COUNTDOWN",
                },
                "name": "PED_COUNTDOWN",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [
                Object {
                  "exec": undefined,
                  "type": "startCountdown",
                },
              ],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "PED_COUNTDOWN",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "wait",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "wait",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "wait",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "PED_COUNTDOWN",
            },
            "name": "PED_COUNTDOWN",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "PED_COUNTDOWN",
          },
          "events": Array [],
          "historyValue": Object {
            "current": Object {
              "red": "stop",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "stop",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "stop",
          },
        },
        "weight": 4,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "PED_COUNTDOWN",
        },
        "name": "PED_COUNTDOWN",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "PED_COUNTDOWN",
      },
      "events": Array [],
      "historyValue": Object {
        "current": Object {
          "red": "stop",
        },
        "states": Object {
          "green": undefined,
          "red": Object {
            "current": "stop",
            "states": Object {
              "flashing": undefined,
              "stop": undefined,
              "wait": undefined,
              "walk": undefined,
            },
          },
          "yellow": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "red": "stop",
      },
    },
  },
  "{\\"red\\":\\"wait\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "POWER_OUTAGE",
                  },
                  "name": "POWER_OUTAGE",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "POWER_OUTAGE",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "flashing",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "flashing",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "flashing",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "flashing",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
          Object {
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "walk",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "walk",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "PED_COUNTDOWN",
            },
            "name": "PED_COUNTDOWN",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [
            Object {
              "exec": undefined,
              "type": "startCountdown",
            },
          ],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "PED_COUNTDOWN",
          },
          "events": Array [],
          "historyValue": Object {
            "current": Object {
              "red": "wait",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "wait",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "wait",
          },
        },
        "weight": 3,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "PED_COUNTDOWN",
        },
        "name": "PED_COUNTDOWN",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [
        Object {
          "exec": undefined,
          "type": "startCountdown",
        },
      ],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "PED_COUNTDOWN",
      },
      "events": Array [],
      "historyValue": Object {
        "current": Object {
          "red": "wait",
        },
        "states": Object {
          "green": undefined,
          "red": Object {
            "current": "wait",
            "states": Object {
              "flashing": undefined,
              "stop": undefined,
              "wait": undefined,
              "walk": undefined,
            },
          },
          "yellow": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "red": "wait",
      },
    },
  },
  "{\\"red\\":\\"walk\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "POWER_OUTAGE",
                  },
                  "name": "POWER_OUTAGE",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "POWER_OUTAGE",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "flashing",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "flashing",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "flashing",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "flashing",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "TIMER",
            },
            "name": "TIMER",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "TIMER",
          },
          "events": Array [],
          "historyValue": Object {
            "current": Object {
              "red": "walk",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "walk",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "walk",
          },
        },
        "weight": 2,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "TIMER",
        },
        "name": "TIMER",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "TIMER",
      },
      "events": Array [],
      "historyValue": Object {
        "current": Object {
          "red": "walk",
        },
        "states": Object {
          "green": undefined,
          "red": Object {
            "current": "walk",
            "states": Object {
              "flashing": undefined,
              "stop": undefined,
              "wait": undefined,
              "walk": undefined,
            },
          },
          "yellow": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "red": "walk",
      },
    },
  },
}
`;

exports[`@xstate/graph getSimplePaths() should return a mapping of simple paths to all states (parallel): simple paths parallel 1`] = `
Object {
  "{\\"a\\":\\"a1\\",\\"b\\":\\"b1\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "xstate.init",
            },
            "name": "xstate.init",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": undefined,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "xstate.init",
          },
          "events": Array [],
          "history": undefined,
          "historyValue": undefined,
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "a": "a1",
            "b": "b1",
          },
        },
        "weight": 0,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "xstate.init",
        },
        "name": "xstate.init",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": undefined,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "xstate.init",
      },
      "events": Array [],
      "history": undefined,
      "historyValue": undefined,
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "a": "a1",
        "b": "b1",
      },
    },
  },
  "{\\"a\\":\\"a2\\",\\"b\\":\\"b2\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "2",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "xstate.init",
                },
                "name": "xstate.init",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": undefined,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "xstate.init",
              },
              "events": Array [],
              "history": undefined,
              "historyValue": undefined,
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "a": "a1",
                "b": "b1",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "2",
            },
            "name": "2",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "2",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "xstate.init",
              },
              "name": "xstate.init",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": undefined,
            "children": Object {},
            "context": undefined,
            "event": Object {
              "type": "xstate.init",
            },
            "events": Array [],
            "historyValue": undefined,
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": Object {
              "a": "a1",
              "b": "b1",
            },
          },
          "historyValue": Object {
            "current": Object {
              "a": "a2",
              "b": "b2",
            },
            "states": Object {
              "a": Object {
                "current": "a2",
                "states": Object {
                  "a1": undefined,
                  "a2": undefined,
                  "a3": undefined,
                },
              },
              "b": Object {
                "current": "b2",
                "states": Object {
                  "b1": undefined,
                  "b2": undefined,
                  "b3": undefined,
                },
              },
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "a": "a2",
            "b": "b2",
          },
        },
        "weight": 1,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "2",
        },
        "name": "2",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "2",
      },
      "events": Array [],
      "history": Object {
        "_event": Object {
          "$$type": "scxml",
          "data": Object {
            "type": "xstate.init",
          },
          "name": "xstate.init",
          "type": "external",
        },
        "_sessionid": null,
        "actions": Array [],
        "activities": Object {},
        "changed": undefined,
        "children": Object {},
        "context": undefined,
        "event": Object {
          "type": "xstate.init",
        },
        "events": Array [],
        "historyValue": undefined,
        "matches": [Function],
        "meta": Object {},
        "toStrings": [Function],
        "value": Object {
          "a": "a1",
          "b": "b1",
        },
      },
      "historyValue": Object {
        "current": Object {
          "a": "a2",
          "b": "b2",
        },
        "states": Object {
          "a": Object {
            "current": "a2",
            "states": Object {
              "a1": undefined,
              "a2": undefined,
              "a3": undefined,
            },
          },
          "b": Object {
            "current": "b2",
            "states": Object {
              "b1": undefined,
              "b2": undefined,
              "b3": undefined,
            },
          },
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "a": "a2",
        "b": "b2",
      },
    },
  },
  "{\\"a\\":\\"a3\\",\\"b\\":\\"b3\\"}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "2",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "xstate.init",
                },
                "name": "xstate.init",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": undefined,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "xstate.init",
              },
              "events": Array [],
              "history": undefined,
              "historyValue": undefined,
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "a": "a1",
                "b": "b1",
              },
            },
          },
          Object {
            "event": Object {
              "type": "3",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "2",
                },
                "name": "2",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "2",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "xstate.init",
                  },
                  "name": "xstate.init",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": undefined,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "xstate.init",
                },
                "events": Array [],
                "historyValue": undefined,
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "a": "a1",
                  "b": "b1",
                },
              },
              "historyValue": Object {
                "current": Object {
                  "a": "a2",
                  "b": "b2",
                },
                "states": Object {
                  "a": Object {
                    "current": "a2",
                    "states": Object {
                      "a1": undefined,
                      "a2": undefined,
                      "a3": undefined,
                    },
                  },
                  "b": Object {
                    "current": "b2",
                    "states": Object {
                      "b1": undefined,
                      "b2": undefined,
                      "b3": undefined,
                    },
                  },
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "a": "a2",
                "b": "b2",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "3",
            },
            "name": "3",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "3",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "2",
              },
              "name": "2",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": true,
            "children": Object {},
            "context": undefined,
            "event": Object {
              "type": "2",
            },
            "events": Array [],
            "historyValue": Object {
              "current": Object {
                "a": "a2",
                "b": "b2",
              },
              "states": Object {
                "a": Object {
                  "current": "a2",
                  "states": Object {
                    "a1": undefined,
                    "a2": undefined,
                    "a3": undefined,
                  },
                },
                "b": Object {
                  "current": "b2",
                  "states": Object {
                    "b1": undefined,
                    "b2": undefined,
                    "b3": undefined,
                  },
                },
              },
            },
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": Object {
              "a": "a2",
              "b": "b2",
            },
          },
          "historyValue": Object {
            "current": Object {
              "a": "a3",
              "b": "b3",
            },
            "states": Object {
              "a": Object {
                "current": "a3",
                "states": Object {
                  "a1": undefined,
                  "a2": undefined,
                  "a3": undefined,
                },
              },
              "b": Object {
                "current": "b3",
                "states": Object {
                  "b1": undefined,
                  "b2": undefined,
                  "b3": undefined,
                },
              },
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "a": "a3",
            "b": "b3",
          },
        },
        "weight": 2,
      },
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "3",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "1",
                },
                "name": "1",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "1",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "2",
                  },
                  "name": "2",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "2",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "a": "a2",
                    "b": "b2",
                  },
                  "states": Object {
                    "a": Object {
                      "current": "a2",
                      "states": Object {
                        "a1": undefined,
                        "a2": undefined,
                        "a3": undefined,
                      },
                    },
                    "b": Object {
                      "current": "b2",
                      "states": Object {
                        "b1": undefined,
                        "b2": undefined,
                        "b3": undefined,
                      },
                    },
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "a": "a2",
                  "b": "b2",
                },
              },
              "historyValue": Object {
                "current": Object {
                  "a": "a1",
                  "b": "b1",
                },
                "states": Object {
                  "a": Object {
                    "current": "a1",
                    "states": Object {
                      "a1": undefined,
                      "a2": undefined,
                      "a3": undefined,
                    },
                  },
                  "b": Object {
                    "current": "b1",
                    "states": Object {
                      "b1": undefined,
                      "b2": undefined,
                      "b3": undefined,
                    },
                  },
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "a": "a1",
                "b": "b1",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "3",
            },
            "name": "3",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "3",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "xstate.init",
              },
              "name": "xstate.init",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": undefined,
            "children": Object {},
            "context": undefined,
            "event": Object {
              "type": "xstate.init",
            },
            "events": Array [],
            "historyValue": undefined,
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": Object {
              "a": "a1",
              "b": "b1",
            },
          },
          "historyValue": Object {
            "current": Object {
              "a": "a3",
              "b": "b3",
            },
            "states": Object {
              "a": Object {
                "current": "a3",
                "states": Object {
                  "a1": undefined,
                  "a2": undefined,
                  "a3": undefined,
                },
              },
              "b": Object {
                "current": "b3",
                "states": Object {
                  "b1": undefined,
                  "b2": undefined,
                  "b3": undefined,
                },
              },
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "a": "a3",
            "b": "b3",
          },
        },
        "weight": 1,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "3",
        },
        "name": "3",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "3",
      },
      "events": Array [],
      "history": Object {
        "_event": Object {
          "$$type": "scxml",
          "data": Object {
            "type": "2",
          },
          "name": "2",
          "type": "external",
        },
        "_sessionid": null,
        "actions": Array [],
        "activities": Object {},
        "changed": true,
        "children": Object {},
        "context": undefined,
        "event": Object {
          "type": "2",
        },
        "events": Array [],
        "historyValue": Object {
          "current": Object {
            "a": "a2",
            "b": "b2",
          },
          "states": Object {
            "a": Object {
              "current": "a2",
              "states": Object {
                "a1": undefined,
                "a2": undefined,
                "a3": undefined,
              },
            },
            "b": Object {
              "current": "b2",
              "states": Object {
                "b1": undefined,
                "b2": undefined,
                "b3": undefined,
              },
            },
          },
        },
        "matches": [Function],
        "meta": Object {},
        "toStrings": [Function],
        "value": Object {
          "a": "a2",
          "b": "b2",
        },
      },
      "historyValue": Object {
        "current": Object {
          "a": "a3",
          "b": "b3",
        },
        "states": Object {
          "a": Object {
            "current": "a3",
            "states": Object {
              "a1": undefined,
              "a2": undefined,
              "a3": undefined,
            },
          },
          "b": Object {
            "current": "b3",
            "states": Object {
              "b1": undefined,
              "b2": undefined,
              "b3": undefined,
            },
          },
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "a": "a3",
        "b": "b3",
      },
    },
  },
}
`;

exports[`@xstate/graph getSimplePaths() should return multiple paths for equivalent transitions: simple paths equal transitions 1`] = `
Object {
  "\\"a\\"": Object {
    "paths": Array [
      Object {
        "segments": Array [],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "xstate.init",
            },
            "name": "xstate.init",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": undefined,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "xstate.init",
          },
          "events": Array [],
          "history": undefined,
          "historyValue": undefined,
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": "a",
        },
        "weight": 0,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "xstate.init",
        },
        "name": "xstate.init",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": undefined,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "xstate.init",
      },
      "events": Array [],
      "history": undefined,
      "historyValue": undefined,
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": "a",
    },
  },
  "\\"b\\"": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "FOO",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "xstate.init",
                },
                "name": "xstate.init",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": undefined,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "xstate.init",
              },
              "events": Array [],
              "history": undefined,
              "historyValue": undefined,
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "a",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "FOO",
            },
            "name": "FOO",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "FOO",
          },
          "events": Array [],
          "historyValue": Object {
            "current": "b",
            "states": Object {
              "a": undefined,
              "b": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": "b",
        },
        "weight": 1,
      },
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "BAR",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "xstate.init",
                },
                "name": "xstate.init",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": undefined,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "xstate.init",
              },
              "events": Array [],
              "history": undefined,
              "historyValue": undefined,
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "a",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "BAR",
            },
            "name": "BAR",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "BAR",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "xstate.init",
              },
              "name": "xstate.init",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": undefined,
            "children": Object {},
            "context": undefined,
            "event": Object {
              "type": "xstate.init",
            },
            "events": Array [],
            "historyValue": undefined,
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": "a",
          },
          "historyValue": Object {
            "current": "b",
            "states": Object {
              "a": undefined,
              "b": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": "b",
        },
        "weight": 1,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "FOO",
        },
        "name": "FOO",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "FOO",
      },
      "events": Array [],
      "historyValue": Object {
        "current": "b",
        "states": Object {
          "a": undefined,
          "b": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": "b",
    },
  },
}
`;

exports[`@xstate/graph getSimplePaths() should return value-based paths: simple paths context 1`] = `
Object {
  "\\"finish\\" | {\\"count\\":3}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "INC",
              "value": 1,
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "xstate.init",
                },
                "name": "xstate.init",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": undefined,
              "children": Object {},
              "context": Object {
                "count": 0,
              },
              "event": Object {
                "type": "xstate.init",
              },
              "events": Array [],
              "history": undefined,
              "historyValue": undefined,
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "start",
            },
          },
          Object {
            "event": Object {
              "type": "INC",
              "value": 1,
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "INC",
                  "value": 1,
                },
                "name": "INC",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": Object {
                "count": 1,
              },
              "event": Object {
                "type": "INC",
                "value": 1,
              },
              "events": Array [],
              "historyValue": Object {
                "current": "start",
                "states": Object {
                  "finish": undefined,
                  "start": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "start",
            },
          },
          Object {
            "event": Object {
              "type": "INC",
              "value": 1,
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "INC",
                  "value": 1,
                },
                "name": "INC",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": Object {
                "count": 2,
              },
              "event": Object {
                "type": "INC",
                "value": 1,
              },
              "events": Array [],
              "historyValue": Object {
                "current": "start",
                "states": Object {
                  "finish": undefined,
                  "start": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "start",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "INC",
              "value": 1,
            },
            "name": "INC",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": Object {
            "count": 3,
          },
          "event": Object {
            "type": "INC",
            "value": 1,
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "INC",
                "value": 1,
              },
              "name": "INC",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": true,
            "children": Object {},
            "context": Object {
              "count": 2,
            },
            "event": Object {
              "type": "INC",
              "value": 1,
            },
            "events": Array [],
            "historyValue": Object {
              "current": "start",
              "states": Object {
                "finish": undefined,
                "start": undefined,
              },
            },
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": "start",
          },
          "historyValue": Object {
            "current": "start",
            "states": Object {
              "finish": undefined,
              "start": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": "finish",
        },
        "weight": 3,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "INC",
          "value": 1,
        },
        "name": "INC",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": Object {
        "count": 3,
      },
      "event": Object {
        "type": "INC",
        "value": 1,
      },
      "events": Array [],
      "history": Object {
        "_event": Object {
          "$$type": "scxml",
          "data": Object {
            "type": "INC",
            "value": 1,
          },
          "name": "INC",
          "type": "external",
        },
        "_sessionid": null,
        "actions": Array [],
        "activities": Object {},
        "changed": true,
        "children": Object {},
        "context": Object {
          "count": 2,
        },
        "event": Object {
          "type": "INC",
          "value": 1,
        },
        "events": Array [],
        "historyValue": Object {
          "current": "start",
          "states": Object {
            "finish": undefined,
            "start": undefined,
          },
        },
        "matches": [Function],
        "meta": Object {},
        "toStrings": [Function],
        "value": "start",
      },
      "historyValue": Object {
        "current": "start",
        "states": Object {
          "finish": undefined,
          "start": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": "finish",
    },
  },
  "\\"start\\" | {\\"count\\":0}": Object {
    "paths": Array [
      Object {
        "segments": Array [],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "xstate.init",
            },
            "name": "xstate.init",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": undefined,
          "children": Object {},
          "context": Object {
            "count": 0,
          },
          "event": Object {
            "type": "xstate.init",
          },
          "events": Array [],
          "history": undefined,
          "historyValue": undefined,
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": "start",
        },
        "weight": 0,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "xstate.init",
        },
        "name": "xstate.init",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": undefined,
      "children": Object {},
      "context": Object {
        "count": 0,
      },
      "event": Object {
        "type": "xstate.init",
      },
      "events": Array [],
      "history": undefined,
      "historyValue": undefined,
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": "start",
    },
  },
  "\\"start\\" | {\\"count\\":1}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "INC",
              "value": 1,
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "xstate.init",
                },
                "name": "xstate.init",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": undefined,
              "children": Object {},
              "context": Object {
                "count": 0,
              },
              "event": Object {
                "type": "xstate.init",
              },
              "events": Array [],
              "history": undefined,
              "historyValue": undefined,
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "start",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "INC",
              "value": 1,
            },
            "name": "INC",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": Object {
            "count": 1,
          },
          "event": Object {
            "type": "INC",
            "value": 1,
          },
          "events": Array [],
          "historyValue": Object {
            "current": "start",
            "states": Object {
              "finish": undefined,
              "start": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": "start",
        },
        "weight": 1,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "INC",
          "value": 1,
        },
        "name": "INC",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": Object {
        "count": 1,
      },
      "event": Object {
        "type": "INC",
        "value": 1,
      },
      "events": Array [],
      "historyValue": Object {
        "current": "start",
        "states": Object {
          "finish": undefined,
          "start": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": "start",
    },
  },
  "\\"start\\" | {\\"count\\":2}": Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "INC",
              "value": 1,
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "xstate.init",
                },
                "name": "xstate.init",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": undefined,
              "children": Object {},
              "context": Object {
                "count": 0,
              },
              "event": Object {
                "type": "xstate.init",
              },
              "events": Array [],
              "history": undefined,
              "historyValue": undefined,
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "start",
            },
          },
          Object {
            "event": Object {
              "type": "INC",
              "value": 1,
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "INC",
                  "value": 1,
                },
                "name": "INC",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": Object {
                "count": 1,
              },
              "event": Object {
                "type": "INC",
                "value": 1,
              },
              "events": Array [],
              "historyValue": Object {
                "current": "start",
                "states": Object {
                  "finish": undefined,
                  "start": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "start",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "INC",
              "value": 1,
            },
            "name": "INC",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": Object {
            "count": 2,
          },
          "event": Object {
            "type": "INC",
            "value": 1,
          },
          "events": Array [],
          "historyValue": Object {
            "current": "start",
            "states": Object {
              "finish": undefined,
              "start": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": "start",
        },
        "weight": 2,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "INC",
          "value": 1,
        },
        "name": "INC",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": Object {
        "count": 2,
      },
      "event": Object {
        "type": "INC",
        "value": 1,
      },
      "events": Array [],
      "historyValue": Object {
        "current": "start",
        "states": Object {
          "finish": undefined,
          "start": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": "start",
    },
  },
}
`;

exports[`@xstate/graph getSimplePathsAsArray() should return an array of shortest paths to all states: simple paths array 1`] = `
Array [
  Object {
    "paths": Array [
      Object {
        "segments": Array [],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "xstate.init",
            },
            "name": "xstate.init",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": undefined,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "xstate.init",
          },
          "events": Array [],
          "history": undefined,
          "historyValue": undefined,
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": "green",
        },
        "weight": 0,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "xstate.init",
        },
        "name": "xstate.init",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": undefined,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "xstate.init",
      },
      "events": Array [],
      "history": undefined,
      "historyValue": undefined,
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": "green",
    },
  },
  Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "xstate.init",
                },
                "name": "xstate.init",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": undefined,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "xstate.init",
              },
              "events": Array [],
              "history": undefined,
              "historyValue": undefined,
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "TIMER",
            },
            "name": "TIMER",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "TIMER",
          },
          "events": Array [],
          "historyValue": Object {
            "current": "yellow",
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "walk",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": "yellow",
        },
        "weight": 1,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "TIMER",
        },
        "name": "TIMER",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "TIMER",
      },
      "events": Array [],
      "historyValue": Object {
        "current": "yellow",
        "states": Object {
          "green": undefined,
          "red": Object {
            "current": "walk",
            "states": Object {
              "flashing": undefined,
              "stop": undefined,
              "wait": undefined,
              "walk": undefined,
            },
          },
          "yellow": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": "yellow",
    },
  },
  Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "POWER_OUTAGE",
                  },
                  "name": "POWER_OUTAGE",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "POWER_OUTAGE",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "flashing",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "flashing",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "flashing",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "flashing",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "TIMER",
            },
            "name": "TIMER",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "TIMER",
          },
          "events": Array [],
          "historyValue": Object {
            "current": Object {
              "red": "walk",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "walk",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "walk",
          },
        },
        "weight": 2,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "TIMER",
        },
        "name": "TIMER",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "TIMER",
      },
      "events": Array [],
      "historyValue": Object {
        "current": Object {
          "red": "walk",
        },
        "states": Object {
          "green": undefined,
          "red": Object {
            "current": "walk",
            "states": Object {
              "flashing": undefined,
              "stop": undefined,
              "wait": undefined,
              "walk": undefined,
            },
          },
          "yellow": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "red": "walk",
      },
    },
  },
  Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "POWER_OUTAGE",
                  },
                  "name": "POWER_OUTAGE",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "POWER_OUTAGE",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "flashing",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "flashing",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "flashing",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "flashing",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
          Object {
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "walk",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "walk",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "PED_COUNTDOWN",
            },
            "name": "PED_COUNTDOWN",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [
            Object {
              "exec": undefined,
              "type": "startCountdown",
            },
          ],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "PED_COUNTDOWN",
          },
          "events": Array [],
          "historyValue": Object {
            "current": Object {
              "red": "wait",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "wait",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "wait",
          },
        },
        "weight": 3,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "PED_COUNTDOWN",
        },
        "name": "PED_COUNTDOWN",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [
        Object {
          "exec": undefined,
          "type": "startCountdown",
        },
      ],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "PED_COUNTDOWN",
      },
      "events": Array [],
      "historyValue": Object {
        "current": Object {
          "red": "wait",
        },
        "states": Object {
          "green": undefined,
          "red": Object {
            "current": "wait",
            "states": Object {
              "flashing": undefined,
              "stop": undefined,
              "wait": undefined,
              "walk": undefined,
            },
          },
          "yellow": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "red": "wait",
      },
    },
  },
  Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "POWER_OUTAGE",
                  },
                  "name": "POWER_OUTAGE",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "POWER_OUTAGE",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "flashing",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "flashing",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "flashing",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "flashing",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
          Object {
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "walk",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "walk",
              },
            },
          },
          Object {
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "PED_COUNTDOWN",
                },
                "name": "PED_COUNTDOWN",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [
                Object {
                  "exec": undefined,
                  "type": "startCountdown",
                },
              ],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "PED_COUNTDOWN",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "wait",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "wait",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "wait",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "PED_COUNTDOWN",
            },
            "name": "PED_COUNTDOWN",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "PED_COUNTDOWN",
          },
          "events": Array [],
          "historyValue": Object {
            "current": Object {
              "red": "stop",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "stop",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "stop",
          },
        },
        "weight": 4,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "PED_COUNTDOWN",
        },
        "name": "PED_COUNTDOWN",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "PED_COUNTDOWN",
      },
      "events": Array [],
      "historyValue": Object {
        "current": Object {
          "red": "stop",
        },
        "states": Object {
          "green": undefined,
          "red": Object {
            "current": "stop",
            "states": Object {
              "flashing": undefined,
              "stop": undefined,
              "wait": undefined,
              "walk": undefined,
            },
          },
          "yellow": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "red": "stop",
      },
    },
  },
  Object {
    "paths": Array [
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "POWER_OUTAGE",
                  },
                  "name": "POWER_OUTAGE",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "POWER_OUTAGE",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "flashing",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "flashing",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "flashing",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "flashing",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
          Object {
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "walk",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "walk",
              },
            },
          },
          Object {
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "PED_COUNTDOWN",
                },
                "name": "PED_COUNTDOWN",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [
                Object {
                  "exec": undefined,
                  "type": "startCountdown",
                },
              ],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "PED_COUNTDOWN",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "wait",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "wait",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "wait",
              },
            },
          },
          Object {
            "event": Object {
              "type": "POWER_OUTAGE",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "PED_COUNTDOWN",
                },
                "name": "PED_COUNTDOWN",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "PED_COUNTDOWN",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "stop",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "stop",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "stop",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "POWER_OUTAGE",
            },
            "name": "POWER_OUTAGE",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "POWER_OUTAGE",
          },
          "events": Array [],
          "historyValue": Object {
            "current": Object {
              "red": "flashing",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "flashing",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "flashing",
          },
        },
        "weight": 5,
      },
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "POWER_OUTAGE",
                  },
                  "name": "POWER_OUTAGE",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "POWER_OUTAGE",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "flashing",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "flashing",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "flashing",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "flashing",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
          Object {
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "walk",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "walk",
              },
            },
          },
          Object {
            "event": Object {
              "type": "POWER_OUTAGE",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "PED_COUNTDOWN",
                },
                "name": "PED_COUNTDOWN",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [
                Object {
                  "exec": undefined,
                  "type": "startCountdown",
                },
              ],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "PED_COUNTDOWN",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "wait",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "wait",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "wait",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "POWER_OUTAGE",
            },
            "name": "POWER_OUTAGE",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "POWER_OUTAGE",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "PED_COUNTDOWN",
              },
              "name": "PED_COUNTDOWN",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [
              Object {
                "exec": undefined,
                "type": "startCountdown",
              },
            ],
            "activities": Object {},
            "changed": true,
            "children": Object {},
            "context": undefined,
            "event": Object {
              "type": "PED_COUNTDOWN",
            },
            "events": Array [],
            "historyValue": Object {
              "current": Object {
                "red": "wait",
              },
              "states": Object {
                "green": undefined,
                "red": Object {
                  "current": "wait",
                  "states": Object {
                    "flashing": undefined,
                    "stop": undefined,
                    "wait": undefined,
                    "walk": undefined,
                  },
                },
                "yellow": undefined,
              },
            },
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": Object {
              "red": "wait",
            },
          },
          "historyValue": Object {
            "current": Object {
              "red": "flashing",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "flashing",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "flashing",
          },
        },
        "weight": 4,
      },
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "POWER_OUTAGE",
                  },
                  "name": "POWER_OUTAGE",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "POWER_OUTAGE",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "flashing",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "flashing",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "flashing",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "flashing",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
          Object {
            "event": Object {
              "type": "POWER_OUTAGE",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": Object {
                  "red": "walk",
                },
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": Object {
                "red": "walk",
              },
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "POWER_OUTAGE",
            },
            "name": "POWER_OUTAGE",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "POWER_OUTAGE",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "TIMER",
              },
              "name": "TIMER",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": true,
            "children": Object {},
            "context": undefined,
            "event": Object {
              "type": "TIMER",
            },
            "events": Array [],
            "historyValue": Object {
              "current": Object {
                "red": "walk",
              },
              "states": Object {
                "green": undefined,
                "red": Object {
                  "current": "walk",
                  "states": Object {
                    "flashing": undefined,
                    "stop": undefined,
                    "wait": undefined,
                    "walk": undefined,
                  },
                },
                "yellow": undefined,
              },
            },
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": Object {
              "red": "walk",
            },
          },
          "historyValue": Object {
            "current": Object {
              "red": "flashing",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "flashing",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "flashing",
          },
        },
        "weight": 3,
      },
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "TIMER",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "POWER_OUTAGE",
                  },
                  "name": "POWER_OUTAGE",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "POWER_OUTAGE",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "flashing",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "flashing",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "flashing",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "flashing",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
          Object {
            "event": Object {
              "type": "POWER_OUTAGE",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "historyValue": Object {
                "current": "yellow",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "yellow",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "POWER_OUTAGE",
            },
            "name": "POWER_OUTAGE",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "POWER_OUTAGE",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "TIMER",
              },
              "name": "TIMER",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": true,
            "children": Object {},
            "context": undefined,
            "event": Object {
              "type": "TIMER",
            },
            "events": Array [],
            "historyValue": Object {
              "current": "yellow",
              "states": Object {
                "green": undefined,
                "red": Object {
                  "current": "walk",
                  "states": Object {
                    "flashing": undefined,
                    "stop": undefined,
                    "wait": undefined,
                    "walk": undefined,
                  },
                },
                "yellow": undefined,
              },
            },
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": "yellow",
          },
          "historyValue": Object {
            "current": Object {
              "red": "flashing",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "flashing",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "flashing",
          },
        },
        "weight": 2,
      },
      Object {
        "segments": Array [
          Object {
            "event": Object {
              "type": "POWER_OUTAGE",
            },
            "state": Object {
              "_event": Object {
                "$$type": "scxml",
                "data": Object {
                  "type": "TIMER",
                },
                "name": "TIMER",
                "type": "external",
              },
              "_sessionid": null,
              "actions": Array [],
              "activities": Object {},
              "changed": true,
              "children": Object {},
              "context": undefined,
              "event": Object {
                "type": "TIMER",
              },
              "events": Array [],
              "history": Object {
                "_event": Object {
                  "$$type": "scxml",
                  "data": Object {
                    "type": "TIMER",
                  },
                  "name": "TIMER",
                  "type": "external",
                },
                "_sessionid": null,
                "actions": Array [],
                "activities": Object {},
                "changed": true,
                "children": Object {},
                "context": undefined,
                "event": Object {
                  "type": "TIMER",
                },
                "events": Array [],
                "historyValue": Object {
                  "current": Object {
                    "red": "walk",
                  },
                  "states": Object {
                    "green": undefined,
                    "red": Object {
                      "current": "walk",
                      "states": Object {
                        "flashing": undefined,
                        "stop": undefined,
                        "wait": undefined,
                        "walk": undefined,
                      },
                    },
                    "yellow": undefined,
                  },
                },
                "matches": [Function],
                "meta": Object {},
                "toStrings": [Function],
                "value": Object {
                  "red": "walk",
                },
              },
              "historyValue": Object {
                "current": "green",
                "states": Object {
                  "green": undefined,
                  "red": Object {
                    "current": "walk",
                    "states": Object {
                      "flashing": undefined,
                      "stop": undefined,
                      "wait": undefined,
                      "walk": undefined,
                    },
                  },
                  "yellow": undefined,
                },
              },
              "matches": [Function],
              "meta": Object {},
              "toStrings": [Function],
              "value": "green",
            },
          },
        ],
        "state": Object {
          "_event": Object {
            "$$type": "scxml",
            "data": Object {
              "type": "POWER_OUTAGE",
            },
            "name": "POWER_OUTAGE",
            "type": "external",
          },
          "_sessionid": null,
          "actions": Array [],
          "activities": Object {},
          "changed": true,
          "children": Object {},
          "context": undefined,
          "event": Object {
            "type": "POWER_OUTAGE",
          },
          "events": Array [],
          "history": Object {
            "_event": Object {
              "$$type": "scxml",
              "data": Object {
                "type": "xstate.init",
              },
              "name": "xstate.init",
              "type": "external",
            },
            "_sessionid": null,
            "actions": Array [],
            "activities": Object {},
            "changed": undefined,
            "children": Object {},
            "context": undefined,
            "event": Object {
              "type": "xstate.init",
            },
            "events": Array [],
            "historyValue": undefined,
            "matches": [Function],
            "meta": Object {},
            "toStrings": [Function],
            "value": "green",
          },
          "historyValue": Object {
            "current": Object {
              "red": "flashing",
            },
            "states": Object {
              "green": undefined,
              "red": Object {
                "current": "flashing",
                "states": Object {
                  "flashing": undefined,
                  "stop": undefined,
                  "wait": undefined,
                  "walk": undefined,
                },
              },
              "yellow": undefined,
            },
          },
          "matches": [Function],
          "meta": Object {},
          "toStrings": [Function],
          "value": Object {
            "red": "flashing",
          },
        },
        "weight": 1,
      },
    ],
    "state": Object {
      "_event": Object {
        "$$type": "scxml",
        "data": Object {
          "type": "POWER_OUTAGE",
        },
        "name": "POWER_OUTAGE",
        "type": "external",
      },
      "_sessionid": null,
      "actions": Array [],
      "activities": Object {},
      "changed": true,
      "children": Object {},
      "context": undefined,
      "event": Object {
        "type": "POWER_OUTAGE",
      },
      "events": Array [],
      "historyValue": Object {
        "current": Object {
          "red": "flashing",
        },
        "states": Object {
          "green": undefined,
          "red": Object {
            "current": "flashing",
            "states": Object {
              "flashing": undefined,
              "stop": undefined,
              "wait": undefined,
              "walk": undefined,
            },
          },
          "yellow": undefined,
        },
      },
      "matches": [Function],
      "meta": Object {},
      "toStrings": [Function],
      "value": Object {
        "red": "flashing",
      },
    },
  },
]
`;
